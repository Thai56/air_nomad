{"version":3,"sources":["app.js","conversations-message-box/conversations-message-boxCtrl.js","conversations-message-box/conversations-message-boxDir.js","conversations-message-box/conversations-message-boxService.js","home-room-listings/home-room-listingsCtrl.js","home-room-listings/home-room-listingsDir.js","home-room-listings/homeRoomListingsService.js","conversations-profile-pic/conversations-profile-picCtrl.js","conversations-profile-pic/conversations-profile-picDir.js","conversations-profile-pic/conversations-profile-picService.js","home_header/homeHeaderCtrl.js","home_header/homeHeaderService.js","home_header/home_headerDir.js","login/loginCtrl.js","login/loginService.js","nav/navBarDir.js","nav/navBarService.js","nav-search-input/nav-search-inputCtrl.js","nav-search-input/nav-search-inputDir.js","nav-search-input/nav-search-inputService.js","navbar-dropdown/navbar-dropdownCtrl.js","navbar-dropdown/navbar-dropdownDir.js","navbar-dropdown/navbar-dropdownService.js","room-listing-main-desc/room-listing-main-descCtrl.js","room-listing-main-desc/room-listing-main-descDir.js","room-listing-main-desc/room-listing-main-descService.js","rooms-listing-carousel/rooms-listing-carouselCtrl.js","rooms-listing-carousel/rooms-listing-carouselDir.js","rooms-listing-carousel/rooms-listing-carouselService.js","rooms-listing-main-about/rooms-listing-main-aboutCtrl.js","rooms-listing-main-about/rooms-listing-main-aboutDir.js","rooms-listing-main-about/rooms-listing-main-aboutService.js","rooms-listing-main-booking/rooms-listing-main-bookingCtrl.js","rooms-listing-main-booking/rooms-listing-main-bookingDir.js","rooms-listing-main-booking/rooms-listing-main-bookingService.js","rooms-listing-main-pic/room-listing-main-picCtrl.js","rooms-listing-main-pic/room-listing-main-picService.js","rooms-listing-main-pic/rooms-listing-main-picDir.js","rooms-listing-main-reviews/rooms-listing-main-reviewsCtrl.js","rooms-listing-main-reviews/rooms-listing-main-reviewsDir.js","rooms-listing-main-reviews/rooms-listing-main-reviewsService.js","rooms-listing-main-star-directive/rooms-listing-main-star-directive.js","rooms-listing-map/rooms-listing-mapCtrl.js","rooms-listing-map/rooms-listing-mapDir.js","rooms-listing-map/rooms-listing-mapService.js","rooms-listing-nearby/rooms-listing-nearbyCtrl.js","rooms-listing-nearby/rooms-listing-nearbyDir.js","rooms-listing-nearby/rooms-listing-nearbyService.js","rooms-listing-profile-pic/rooms-listing-profile-picCtrl.js","rooms-listing-profile-pic/rooms-listing-profile-picDir.js","rooms-listing-profile-pic/rooms-listing-profile-picService.js","search-filter/search-filterCtrl.js","search-filter/search-filterDir.js","search-filter/search-filterService.js","search-map/search-mapCtrl.js","search-map/search-mapDir.js","search-map/search-mapService.js","signup/signupCtrl.js","signup/signupService.js","users-profile-desc-header/users-profile-desc-headerCtrl.js","users-profile-desc-header/users-profile-desc-headerDir.js","users-profile-desc-header/users-profile-desc-headerService.js","users-profile-listings/users-profile-listingsCtrl.js","users-profile-listings/users-profile-listingsDir.js","users-profile-listings/users-profile-listingsService.js","users-profile-pic/users-profile-picCtrl.js","users-profile-pic/users-profile-picDir.js","users-profile-pic/users-profile-picService.js","home_header/homeHeader-datepickers/end/end_datepickerCtrl.js","home_header/homeHeader-datepickers/end/end_datepickerDir.js","home_header/homeHeader-datepickers/start/start_datepickerCtrl.js","home_header/homeHeader-datepickers/start/start_datepickerDir.js","conversations/conversationsCtrl.js","conversations/conversationsService.js","home/homeCtrl.js","home/homeService.js","rooms/roomsCtrl.js","search/searchCtrl.js","search/searchService.js","search-listings/search-listingsCtrl.js","search-listings/search-listingsService.js","users/usersCtrl.js","users/usersService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","params","myParam","otherwise","$scope","$stateParams","conversationsMessageBoxService","user_id","getConversationUsername","then","username","response","directive","restrict","service","$http","$q","defer","method","resolve","data","promise","homeRoomListingsService","getListingsForHome","console","log","listings","conversationsProfilePicService","getConversationProfilePic","profilePic","homeHeaderService","findLocationByKeyword","keyword","location","loginService","$routeParams","$rootScope","loginUser","email","password","res","getUser","checkForToken","token","user","userNotLoggedIn","$state","credentials","redirect","go","catch","err","sessionStorage","setItem","ngDialog","navBarService","clickToRegister","open","template","className","clickToLogin","logout","navSearchInputService","goToSearchState","search_id","getMessage","navbarDropdownService","$log","getUserById","id","roomListingMainDescService","room_id","getRoomListingMainDesc","desc","roomsListingCarouselService","getCarouselImages","myInterval","slides","image_Array","i","j","length","push","image","image_url","type","text","image_desc","roomsListingMainAboutService","getRoomListingMainAccessories","accessories","obj","$filter","roomsListingMainBookingService","message","getRoomListingNightlyPrice","price","reserveDate","start","end","alert","chosenStartDate","chosenEndDate","valuationDate","Date","valuationDatePickerIsOpen","valuationDatePickerOpen","roomListingMainPicService","getRoomListingMainPic","roomListingMainPic","$timeout","roomsListingMainReviewsService","noReviews","reviewsLength","getReviews","reviews","addReview","stars","controllerAs","scope","ratingValue","max","onRatingSelected","link","elem","attrs","updateStars","filled","toggle","index","rating","$watch","oldVal","newVal","roomsListingMapService","getRoomListingCoordinates","coordinates","lat","latitude","lng","longitude","initMap","google","map","maps","Map","document","getElementById","zoom","center","disableDefaultUI","scrollwheel","mapTypeId","MapTypeId","ROADMAP","maxZoom","minZoom","zoomControlOptions","position","ControlPosition","BOTTOM_LEFT","style","ZoomControlStyle","SMALL","marker","Marker","roomsListingNearbyService","getRoomThisLocationInfo","current_location","origin1","getRoomsNearby","city","destinationA","destinationB","roomsNearby","DistanceMatrixService","my_distance","getDistanceMatrix","origins","destinations","travelMode","unitSystem","UnitSystem","IMPERIAL","status","rows","elements","distance","myArray","forEach","dist","city_name","roomsListingProfilePicService","getRoomListingProfilePic","searchFilterService","search_filter","startDate","endDate","minPrice","maxPrice","room_type","entire","private","shared","tv","kitchen","internet","heating","ac","accommodate","label","value","selectAcc","bedrooms","selectBed","bathrooms","selectBath","searchFilter","search_obj","acc","bed","bath","searchMapService","searchListingsResults","locations","listing_name","infowindow","InfoWindow","LatLng","event","addListener","setContent","getSearchMapLocations","arr","signupService","registerUser","register","usersProfileDescHeaderService","getHostDesc","hostDesc","userProfileListingsService","getHostListings","usersProfilePicService","getUsersProfilePic","usersProfilePic","require","attr","ngModelCtrl","on","conversationsService","homeService","newmessage","foo","messages","searchListingsService","getSearchListings","otherparams","searchString","filterSearchListings","results","string","usersService"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('myApp',['ui.router','ui.bootstrap','ngDialog','angular-input-stars','ngRoute']).config(function($stateProvider,$urlRouterProvider) {\n  $stateProvider\n  .state('home', {\n    url:'/',\n    templateUrl:'./views/home/home.html',\n    controller:'homeCtrl'\n  })\n  .state('test', {\n    templateUrl:'./views/test.html',\n    url:'/test'\n  })\n  .state('rooms', {\n    url:'/rooms/:room_id',\n    controller: 'roomsCtrl',\n    templateUrl:'./views/rooms/rooms.html'\n  })\n  .state('users', {\n    url:'/users/:id',\n    controller:'usersCtrl',\n    templateUrl:'./views/users/users.html'\n  })\n  .state('conversations', {\n    url:'/conversations/:user_id/messages',\n    controller:'conversationsCtrl',\n    templateUrl:'./views/conversations/conversations.html'\n  })\n  .state('search', {\n    url:'/search',\n    controller:'searchCtrl',\n    templateUrl:'./views/search/search.html'\n  })\n  .state('search.listings', {\n    templateUrl:'./views/search-listings/search-listings.html',\n    url:'/listings/:search_id/',\n    controller:'searchListingsCtrl',\n    params:{myParam:null}\n  })\n\n  $urlRouterProvider\n  .otherwise('/')\n});\n//  dependency of ui-bootstrap carousel from DEMO 'ngSanitize' / ,'ngAnimate'\n// Now going to check index.html for any script tags or links that may help carousel\n","angular.module('myApp').controller('conversationsMessageBoxCtrl', ($scope,$stateParams,conversationsMessageBoxService) => {\n  const user_id = $stateParams.user_id;\n  conversationsMessageBoxService.getConversationUsername(user_id)\n  .then(response => {\n    $scope.username = response[0];\n  })\n// ===================================================================================================================\n// jQuery\n// ==========================================================================================================================================\n// jQuery(function($) {\n//   var socket = io.connect();\n//   var $messageForm = $('#send-message');\n//   var $messageBox = $('#message');\n//   var $chat = $('#chat');\n//\n//   $messageForm.submit(function(e){\n//     e.preventDefault();\n//     socket.emit('send message', $messageBox.val());\n//     $messageBox.val('')\n//   })\n//\n//   socket.on('new message',function(data) {\n//     console.log('this is the data',data);\n//     $chat.append(data + '<br/>')\n//   })\n// });\n// ==========================================================================================================================================\n})\n","angular.module('myApp').directive('conversationMessageBox', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/conversations-message-box/conversations-message-box.html',\n    controller:'conversationsMessageBoxCtrl'\n  }\n})\n","angular.module('myApp').service('conversationsMessageBoxService', function($http,$q){\n  this.getConversationUsername = (user_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'conversations/username/'+ user_id\n    })\n    .then(response => {\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('homeRoomListingsCtrl', ($scope,homeRoomListingsService) => {\n  homeRoomListingsService.getListingsForHome().then(response=>{\n    console.log('response from homeListingCtrl',response)\n    $scope.listings = response;\n  })\n})\n","angular.module('myApp').directive('homeRoomListings',function() {\n  return {\n    restrict:'AE',\n    controller:'homeRoomListingsCtrl',\n    templateUrl:'./features/home-room-listings/home-room-listings.html'\n  }\n})\n","angular.module('myApp').service('homeRoomListingsService', function($http,$q){\n  this.getListingsForHome = () => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/rooms/listings',\n    }).then(response => {\n      console.log('response from homeRoomListingsService',response);\n      defer.resolve(response.data);\n    })\n    return defer.promise\n\n  }\n})\n","angular.module('myApp').controller('conversationsProfilePicCtrl', ($scope,$stateParams,conversationsProfilePicService)=> {\n  const user_id = $stateParams.user_id;\n  conversationsProfilePicService.getConversationProfilePic(user_id).then(response => {\n    $scope.profilePic = response;\n  })\n})\n","angular.module('myApp').directive('conversationProfilePic', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/conversations-profile-pic/conversations-profile-pic.html',\n    controller:'conversationsProfilePicCtrl'\n  }\n})\n","angular.module('myApp').service('conversationsProfilePicService', function($http,$q) {\n  this.getConversationProfilePic = (user_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/conversations/profile-pic/'+user_id\n    }).then(response => {\n      console.log('this is the resposne.data',response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('homeHeaderCtrl', function($scope,homeHeaderService){\n  $scope.findLocationByKeyword = (keyword) => {\n    console.log('keyword from control first', keyword);\n    homeHeaderService.findLocationByKeyword(keyword).then(response => {\n      console.log(response);\n    })\n  }\n})\n","angular.module('myApp').service('homeHeaderService', function($http, $q){\n  this.findLocationByKeyword = (keyword) => {\n    const defer = $q.defer();\n    console.log('service call first',keyword.location);\n    $http({\n      method:\"get\",\n      url:'rooms/search/' + keyword.location\n    }).then((response)=> {\n      console.log(response)\n      defer.resolve(response)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').directive('homeHeader',function(){\n  return {\n    restrict:'AE',\n    templateUrl:'./features/home_header/homeHeader.html',\n    controller:'homeHeaderCtrl'\n  }\n})\n","angular.module('myApp').controller('loginCtrl', ($scope, loginService, $routeParams,$rootScope) => {\n  $scope.loginUser = function(email,password) {\n    console.log('ccreds from the loginCtrl',email,password)\n    loginService.loginUser({\n      username:email,\n      password:password\n    })\n    .then(function(res) {\n      getUser();\n    })\n\n  }\n\n\n// ================================================================================================================================\n// check if logged in\n// ================================================================================================================================================================\n  loginService.checkForToken($routeParams.token);\n\nfunction getUser() {\n  loginService.getUser().then(function(user) {\n    if (user){\n       $scope.user = user.username;\n      console.log('this is user not logged in ==> ',$scope.userNotLoggedIn);\n      $rootScope.userNotLoggedIn = false;\n    }\n    else  {\n        $scope.user = 'NOT LOGGED IN'\n    };\n  })\n}\n\ngetUser();\n\n})\n","angular.module('myApp').service('loginService',function($http,$q,$state){\n  this.loginUser = function(credentials) {\n    return $http({\n      method: \"POST\",\n      url: '/login',\n      data: credentials\n    })\n    .then(function(res) {\n      console.log('this is the res from loginUserService',res);\n      if( typeof res.data.redirect =='string'){\n        console.log('res.data.redirect',res.data.redirect);\n        $state.go(res.data.redirect)\n      }\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log('ERROR LOGGING IN!', err);\n    })\n  }\n\n  this.getUser = function() {\n    return $http({\n      method: 'GET',\n      url: '/auth/me'\n    })\n    .then(function(res) {\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n\n  this.checkForToken = function(token) {\n      if (token) {\n        console.log('checkForToken',token);\n        sessionStorage.setItem('myToken', token)\n      }\n    }\n})\n","angular.module('myApp').directive('myNav', function(){\n  return {\n    restrict:'E',\n    templateUrl:'./features/nav/navbarTmpl.html',\n    controller: function($scope,ngDialog,navBarService,$rootScope) {\n\n      $rootScope.userNotLoggedIn = true;\n\n      $scope.clickToRegister = () => {\n        ngDialog.open({ template: './features/signup/signup.html', className: 'ngdialog-theme-default', controller:'signupCtrl'});\n      }\n      $scope.clickToLogin = () => {\n        ngDialog.open({ template:'./features/login/login.html', className:'ngdialog-theme-default', controller:'loginCtrl'});\n      }\n      $scope.logout = ()=> {\n        navBarService.logout();\n        $rootScope.userNotLoggedIn = true;\n      }\n// ========================================================================================================================\n// get user function\n// ======================================================================================================================================================\n      function getUser() {\n        navBarService.getUser().then(function(user) {\n          if (user) {\n            console.log('user not logged in is ===> ', $scope.userNotLoggedIn);\n            $scope.user = user.username;\n            // $scope.userNotLoggedIn = false;\n          }\n          else  {\n            $scope.user = 'NOT LOGGED IN';\n          }\n        })\n      }\n      getUser()\n      // $scope.$watch('userNotLoggedIn')\n    }\n    \n  }\n})\n","angular.module('myApp').service('navBarService', function($http,$q) {\n  this.logout = () => {\n    console.log('fireing');\n    return $http({\n      method: 'GET',\n      url: '/logout'\n    })\n    .then(function(res) {\n      console.log(res.data);\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n\n  this.getUser = function() {\n    return $http({\n      method: 'GET',\n      url: '/auth/me'\n    })\n    .then(function(res) {\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n})\n","angular.module('myApp').controller('navSearchInputCtrl', ($scope,$state,$stateParams,navSearchInputService) => {\n  $scope.goToSearchState = (search_id) => {\n    console.log('search_id',search_id)\n    $state.go('search.listings',{search_id:search_id})\n  }\n})\n","angular.module('myApp').directive('navSearchInput', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/nav-search-input/nav-search-input.html',\n    controller:'navSearchInputCtrl'\n  }\n})\n","angular.module('myApp').service('navSearchInputService', function($http,$q) {\n  this.getMessage = () => {\n    return 'Hello from the nav search input service there willl be an input form here to search for nearest cities and maybe states and countries '\n  }\n})\n","angular.module('myApp').controller('navbarDropdownCtrl', ($scope,$stateParams,$rootScope,navbarDropdownService,$log) => {\n  function getUser() {\n    navbarDropdownService.getUser().then(function(user) {\n      if (user){\n        console.log(user);\n         $scope.user = user.username;\n         navbarDropdownService.getUserById(user.id)\n      }\n      else  {\n          $scope.user = 'NOT LOGGED IN'\n      };\n    })\n  }\n\n  getUser();\n\n})\n","angular.module('myApp').directive('navbarDropdown', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/navbar-dropdown/navbar-dropdown.html',\n    controller:'navbarDropdownCtrl'\n  }\n})\n","angular.module('myApp').service('navbarDropdownService', function($http,$q) {\n  this.getUser = function() {\n    return $http({\n      method: 'GET',\n      url: '/auth/me'\n    })\n    .then(function(res) {\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n  this.getUserById = (user_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/users/' + user_id\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('roomListingMainDescCtrl', ($scope,$stateParams,roomListingMainDescService) => {\n  const room_id = $stateParams.room_id;\n\n  roomListingMainDescService.getRoomListingMainDesc(room_id)\n  .then((response) => {\n    console.log('working from controller descripition service', response)\n    $scope.desc = response[0];\n    console.log('this is descriptions',$scope.desc);\n  })\n\n\n\n})\n","angular.module('myApp').directive('roomListingMainDesc', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/room-listing-main-desc/room-listing-main-desc.html',\n    controller:'roomListingMainDescCtrl'\n  }\n})\n","angular.module('myApp').service('roomListingMainDescService', function($http,$q) {\n  this.getRoomListingMainDesc = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'GET',\n      url:'/rooms/desc/'+ room_id\n    }).then(function(response) {\n      console.log('response from service description', response);\n      defer.resolve(response.data)\n    })\n    return defer.promise;\n  }\n})\n","angular.module('myApp').controller('roomsListingCarouselCtrl', ($scope, $stateParams, roomsListingCarouselService) => {\n// ==========================================================================================\n// variables\n// ============================================================================================================\n  const room_id = $stateParams.room_id;\n\n// ============================================================================================================\n// carousel\n// ============================================================================================================\n    roomsListingCarouselService.getCarouselImages(room_id).then(response => {\n      $scope.myInterval = 3000;\n      $scope.slides = [];\n        console.log('resonse that is back from the carousel endpoint', response)\n\n        $scope.image_Array = response;\n\n        for (var i = 0, j = $scope.image_Array.length; i < j; i++) {\n            $scope.slides.push({\n                image: '../../' + $scope.image_Array[i].image_url,\n                type: 'room images',\n                text: $scope.image_Array[i].image_desc\n            })\n        }\n        console.log('thiss is the scope slides within controller', $scope.slides);\n    })\n\n\n})\n\n// // // //\n// Test\n// // // //\n\n// $scope.slides.push({\n//   image:'../../'+$scope.obj.image_url,\n//   type:'room_images',\n//   text:$scope.obj.image_desc\n// })\n\n\n// $scope.slides = [\n\n// ,\n// {\n//   image:'../../IMG/caps/teepers-cap_back_blackred-color-white.jpg',\n//   type:'caps',\n//   text:'Caps'\n// },\n// {\n//   image:'../../IMG/sweaters/naksweat-black-yellow.jpg',\n//   type:'sweaters',\n//   text:'Hoodies'\n// },\n// {\n//   image:'../../IMG/shorts/nakshorts-black-gold.jpg',\n//   type:'shorts',\n//   text:'Thai Shorts'\n// }\n// ]\n","angular.module('myApp').directive('roomListingCarousel', function() {\n  //  //  //\n  //  THIS ROOM LISTINGCAROUSEL IS MISSING AN S AT THE END OF 'ROOM'\n  //  //  //\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-carousel/rooms-listing-carousel.html',\n    controller:'roomsListingCarouselCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingCarouselService', function($http,$q) {\n  this.getCarouselImages = (room_id) => {\n    const defer = $q.defer();\n    console.log('room_id from service on way out',room_id);\n    $http({\n      method:'get',\n      url:'/rooms/carousel/' + room_id\n    }).then(response => {\n        console.log('resoinse from serviceCarouselImage',response);\n        defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('roomsListingMainAboutCtrl', ($scope,$stateParams,roomsListingMainAboutService) => {\n  const room_id = $stateParams.room_id;\n    roomsListingMainAboutService.getRoomListingMainAccessories(room_id).then(response => {\n      console.log('response from about CTrl',response);\n      $scope.accessories = response;\n      console.log('response [0]',$scope.accessories[0])\n       $scope.obj = $scope.accessories[0];\n    });\n\n\n})\n","angular.module('myApp').directive('roomListingMainAbout', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-about/rooms-listing-main-about.html',\n    controller:'roomsListingMainAboutCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingMainAboutService', function($http,$q) {\n  this.getRoomListingMainAccessories = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'GET',\n      url:'/rooms/about/' + room_id,\n    }).then(response => {\n      console.log('this is response from service on way bak',response);\n      defer.resolve(response.data)\n    })\n    return defer.promise;\n  }\n})\n","angular.module('myApp').controller('roomsListingMainBookingCtrl', ($scope,$stateParams,$filter,roomsListingMainBookingService) => {\n  const room_id = $stateParams.room_id;\n  $scope.message = roomsListingMainBookingService.getRoomListingNightlyPrice(room_id).then(response => {\n    console.log('this is the price',response);\n    $scope.price = response[0]\n  })\n  $scope.reserveDate = (start,end) => {\n    if(!start || !end){\n      alert('please pick a valid date')\n    }\n    else {\n      $scope.chosenStartDate = $filter('date')(start, 'shortDate')\n      console.log('=================== this is the value from $scope.chosenStartDate' , $scope.chosenStartDate)\n      $scope.chosenEndDate = $filter('date')(end,'shortDate')\n      console.log('=================== this is the value from $scope.chosenEndDate' , $scope.chosenEndDate)\n      roomsListingMainBookingService.reserveDate(room_id,$scope.chosenStartDate,$scope.chosenEndDate).then(response =>{\n        console.log('response back into the controller on the way back ====> ', response);\n        alert(response);\n      })\n    }\n  }\n\n  $scope.valuationDate = new Date();\n  $scope.valuationDatePickerIsOpen = false;\n  $scope.valuationDatePickerOpen = () => {\n    $scope.valuationDatePickerIsOpen = true;\n  }\n\n})\n","angular.module('myApp').directive('roomListingMainBooking', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-booking/rooms-listing-main-booking.html',\n    controller:'roomsListingMainBookingCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingMainBookingService', function($http,$q){\n\n  this.getRoomListingNightlyPrice = (room_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/rooms/nightly_price/' + room_id\n    }).then(response => {\n      console.log('this is response in service Booking', response);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n\n  this.reserveDate = (room_id,start,end) => {\n    console.log('======> start =====> service',start);\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/rooms/reservations',\n      data: {\n        room_id:room_id,\n        start:start,\n        end:end\n      }\n    }).then(response => {\n      if (response.data === 'please sign in') {\n        alert('Please sign in to proceed')\n      }\n      else {\n        console.log('!!!response back in service',response.data);\n        defer.resolve(response.data)\n      }\n    })\n    return defer.promise\n  }\n\n})\n","angular.module('myApp').controller('roomsListingMainCtrl', ($scope, $stateParams,roomListingMainPicService) => {\n  $scope.message = 'Hello IM A PICTURE!';\n  console.log('$stateparams.room_id from rooms-listing main pic controller',$stateParams.room_id);\n  const room_id = $stateParams.room_id;\n  roomListingMainPicService.getRoomListingMainPic(room_id).then((response) => {\n    console.log('response that was handed back from the service here in controller',response);\n    $scope.roomListingMainPic = response\n    console.log('last one',$scope.roomListingMainPic);\n  });\n})\n","angular.module('myApp').service('roomListingMainPicService', function ($http,$q) {\n  this.getRoomListingMainPic = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'GET',\n      url:'/rooms/img/'+ room_id\n    }).then(response => {\n      console.log('response from the roomlistingsmainpicservice',response);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').directive('roomListingMainPic', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-pic/room-listing-main-pic.html',\n    controller:'roomsListingMainCtrl'\n  }\n})\n","angular.module('myApp').controller('roomsListingMainReviewsCtrl', ($scope,$state,$stateParams,$timeout,roomsListingMainReviewsService) => {\n  $scope.noReviews = true;\n  $scope.reviewsLength = 0;\n  const room_id = $stateParams.room_id;\n  // roomsListingMainReviewsService.getReviews(room_id).then(response => {\n  //   console.log('response from roomsListingMainReviewsCtrl', response);\n  //   $scope.reviews = response;\n  //   if(response.length > 0){\n  //     $scope.noReviews = false;\n  //     $scope.reviewsLength = response.length;\n  //   }\n  // })\n  $scope.getReviews = function(room_id){\n    roomsListingMainReviewsService.getReviews(room_id).then(response => {\n      console.log('response from roomsListingMainReviewsCtrl', response);\n      $scope.reviews = response;\n      if(response.length > 0){\n        $scope.noReviews = false;\n        $scope.reviewsLength = response.length;\n      }\n    })\n  }\n  $scope.getReviews(room_id)\n\n// ==============================================================================================================\n// ADD REVIEWS\n// ==============================================================================================================\n  $scope.addReview = (stars,text) => {\n    if(!stars || !text){\n      alert('cannot accept null values, please fill out the star and text input')\n    }\n    else {\n      roomsListingMainReviewsService.addReview(stars,text,room_id).then(response => {\n        console.log('this is the response from addReview',response)\n      })\n    }\n  }\n\n\n  // ==============================================================================================================\n  // timeout function to call getReviews\n  // ========================================================================================================================\n  // $timeout(function(room_id){\n  //   console.log('room_id',room_id)\n  //   $scope.getReviews(room_id)\n  // },3000)\n})\n","angular.module('myApp').directive('roomListingMainReviews', function(){\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-reviews/rooms-listing-main-reviews.html',\n    controller: 'roomsListingMainReviewsCtrl',\n    controllerAs: 'App'\n  }\n})\n","angular.module('myApp').service('roomsListingMainReviewsService', function($http,$q) {\n  this.getReviews = (room_id) => {\n      const defer = $q.defer();\n      $http({\n        method:'get',\n        url:'/rooms/reviews/' + room_id\n      }).then(response => {\n        console.log('response from the service GET REVIEWS ====>', response.data);\n        defer.resolve(response.data)\n      })\n      return defer.promise\n  }\n\n\n\n// ========================================================================================\n// ADD REVIEWS - I WANT TO ADD A TIME STAMP OPTION TO THIS FUNCTION\n// ========================================================================================\n  this.addReview = (stars,text,room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/rooms/reviews',\n      data: {\n        stars:stars,\n        text:text,\n        room_id:room_id\n      }\n    }).then(response => {\n      alert(response.data)\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').directive('starRating', function() {\n  return {\n    restrict:'A',\n    template:'<ul class=\"rating\">' +\n                 '<li ng-repeat=\"star in stars\" ng-class=\"star\" ng-click\"toggle($index)\">' +\n                 ' <i class=\"fa fa-star-o\"></i>' + '</li>' +\n                 '</ul>',\n    scope: {\n      ratingValue:'=',\n      max:'=',\n      onRatingSelected:'&'\n    },\n    link : function(scope,elem,attrs) {\n\n      scope.updateStars = () => {\n        scope.stars = [];\n        for(var i = 0; i < $scope.max; i++){\n          stars.push({\n            filled: i < scope.ratingValue\n          })\n        }\n      };\n\n      scope.toggle = function(index) {\n        scope.ratingValue = index + 1;\n        scope.onRatingSelected = ({\n          rating: index + 1\n        });\n      };\n\n      scope.$watch('ratingValue', function(oldVal,newVal){\n        if(newVal){\n          updateStars();\n        }\n      });\n    }\n  }\n})\n","angular.module('myApp').controller('roomsListingMapCtrl', ($scope,$stateParams,roomsListingMapService) => {\nconst room_id = $stateParams.room_id;\n// =====================================================================================================\n// START OF FUNCTION\n// ==============================================================================================================\nroomsListingMapService.getRoomListingCoordinates(room_id).then(response => {\n  console.log('this is the locations object',response[0]);\n  $scope.location = response[0];\n  console.log('scope locaitons',$scope.location);\n  $scope.coordinates = {lat:($scope.location.latitude * 1),lng:($scope.location.longitude * 1)}\n  console.log('here are the scope coordinates =======>',$scope.coordinates);\n\n  // // // // //\n//  * map *  // // // //\n// // // // //\n var coordinates = $scope.coordinates;\n console.log('OUTSIDE OF COORDINTATES!!!' , $scope.coordinates);\n var initMap = (function (coordinates,google) {\n       console.log('******within IIFE',coordinates);\n       var map = new google.maps.Map(document.getElementById('map'), {\n         zoom: 10,\n         center: coordinates,\n         disableDefaultUI:false,\n         scrollwheel:true,\n         mapTypeId:google.maps.MapTypeId.ROADMAP,\n         maxZoom:11,\n         minZoom:9,\n         zoomControlOptions: {\n           position: google.maps.ControlPosition.BOTTOM_LEFT,\n           style: google.maps.ZoomControlStyle.SMALL\n         }\n       });\n       var marker = new google.maps.Marker({\n         position: coordinates,\n         map: map\n       });\n     }(coordinates,google))\n// ==============================================================================================================\n})\n\n\n\n\n\n})\n","angular.module('myApp').directive('roomListingMap', () => {\n  return {\n    restrict:'AE',\n    templateUrl: './features/rooms-listing-map/rooms-listing-map.html',\n    controller: 'roomsListingMapCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingMapService', function($http,$q){\n  this.getRoomListingCoordinates = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/rooms/locations/' + room_id\n    }).then(response => {\n      console.log('======MAP SERVICE response', response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('roomsListingNearbyCtrl', ($scope,$stateParams,roomsListingNearbyService) => {\n  console.log($stateParams.room_id);\n  const room_id = $stateParams.room_id;\n  roomsListingNearbyService.getRoomThisLocationInfo(room_id).then(response => {\n    const current_location = response[0];\n    console.log('!!!!!!!!!!CURRENT_LOCATION',current_location);\n    var origin1 = {\n      lat:(current_location.latitude * 1),\n      lng:(current_location.longitude * 1)\n    };\n    roomsListingNearbyService.getRoomsNearby(room_id,current_location.city).then(response => {\n\n      console.log('RESPONSE.LENGTH',response.length);\n      if(response.length  > 0){\n\n        var destinationA = {lat:(response[0].latitude * 1),lng:(response[0].longitude * 1)};\n        var destinationB = {lat:(response[1].latitude * 1), lng:(response[1].longitude * 1)};\n      $scope.roomsNearby = response;\n      console.log(\"RESPONSE\",response[0]);\n      var service = new google.maps.DistanceMatrixService();\n\n      var my_distance = service.getDistanceMatrix({\n        origins:[origin1],\n        destinations:[destinationA,destinationB],\n        travelMode:'DRIVING',\n        // unitSystem: google.maps.UnitSystem.METRIC\n        unitSystem: google.maps.UnitSystem.IMPERIAL\n      }, function(response, status) {\n          if (status !== 'OK') {\n            alert('Error was: ' + status);\n          } else {\n            console.log(response);\n            console.log(response.rows[0].elements[0].distance.text)\n            $scope.distance = response.rows[0].elements;\n            var myArray = [];\n            $scope.distance.forEach(obj => {\n              myArray.push(obj.distance.text)\n            })\n            $scope.roomsNearby[0].dist = myArray[0]\n            $scope.roomsNearby[1].dist = myArray[1]\n            console.log($scope.roomsNearby);\n\n          }\n        })\n        // if statement closing bracket below\n      }\n    })\n  })\n\n\n})\n","angular.module('myApp').directive('roomListingNearby', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-nearby/rooms-listing-nearby.html',\n    controller:'roomsListingNearbyCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingNearbyService', function($http,$q){\n  this.getRoomThisLocationInfo = (room_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/rooms/listings/current_location/' + room_id\n    }).then(response => {\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n  this.getRoomsNearby = (room_id,city_name) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/rooms/listings/nearby/' + room_id + '/' + city_name\n    })\n    .then(response => {\n      console.log('response back from getRoomsNearyby Service function',response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('roomsListingProfilePicCtrl', ($scope,$stateParams,roomsListingProfilePicService) => {\n  const room_id = $stateParams.room_id;\n  roomsListingProfilePicService.getRoomListingProfilePic(room_id).then(response => {\n    console.log('response from profile pic ctrl on way back',response)\n    $scope.profilePic = response;\n    console.log('$scope.profiePIc',$scope.profilePic);\n  })\n})\n","angular.module('myApp').directive('roomListingProfilePic', ()=> {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-profile-pic/rooms-listing-profile-pic.html',\n    controller:'roomsListingProfilePicCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingProfilePicService', function($http,$q) {\n  const message = 'This is the profile pic placeholder'\n  this.getMessage = () => {\n    return message;\n  }\n  this.getRoomListingProfilePic = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/rooms/profile-pic/' + room_id\n    }).then(response => {\n      console.log('this is the response from the profile pic service',response);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('searchFilterCtrl', ($scope,$stateParams,$filter,$state,searchFilterService) => {\n  $scope.message = searchFilterService.getMessage()\n  $scope.search_filter = {\n    startDate:null,\n    endDate:null,\n    minPrice:0,\n    maxPrice:1000,\n    room_type: {\n      entire:false,\n      private:false,\n      shared:false\n    },\n    tv:false,\n    kitchen:false,\n    internet:false,\n    heating:false,\n    ac:false\n  }\n// ================================================================================================\n// accommodate select input\n// ================================================================================================\n  $scope.accommodate = [{\n    id:1,\n    label:1,\n    value:1\n  },\n  {\n    id:2,\n    label:2,\n    value:2\n  },\n  {\n    id:3,\n    label:3,\n    value:3\n  },\n  {\n    id:4,\n    label:4,\n    value:4\n  }]\n\n  $scope.selectAcc = $scope.accommodate[0]\n// ================================================================================================\n// bedrooms select input\n// ================================================================================================\n  $scope.bedrooms = [{\n    id:1,\n    label:1,\n    value:1\n  },\n  {\n    id:2,\n    label:2,\n    value:2\n  },\n  {\n    id:3,\n    label:3,\n    value:3\n  },\n  {\n    id:4,\n    label:4,\n    value:4\n  },\n  {\n    id:5,\n    label:5,\n    value:5\n  }]\n\n  $scope.selectBed = $scope.bedrooms[0]\n// ================================================================================================\n// bathrooms select input\n// ================================================================================================\n  $scope.bathrooms = [{\n    id:1,\n    label:1,\n    value:1\n  },\n  {\n    id:2,\n    label:2,\n    value:2\n  },\n  {\n    id:3,\n    label:3,\n    value:3\n  },\n  {\n    id:4,\n    label:4,\n    value:4\n  },\n  {\n    id:5,\n    label:5,\n    value:5\n  }]\n\n  $scope.selectBath = $scope.bathrooms[0]\n\n// ================================================================================================\n// search-filter-btn function need to filter through the dates in the search_obj and set logic for null/undefined values\n// ================================================================================================\n  $scope.searchFilter = (search_obj,acc,bed,bath) => {\n    if(!search_obj){\n      search_obj = {}\n    }\n    // set a label of 'select' for accommodate, bedrooms, bathrooms\n    search_obj.acc=acc.value;\n    search_obj.bed=bed.value;\n    search_obj.bath=bath.value;\n    // filter the search_obj.startDate & search_obj.endDate reference bookingCtrl\n    // search_obj.startDate = $filter('date')($scope.search_filter.startDate,'shortDate')\n    // search_obj.endDate = $filter('date')($scope.search_filter.endDate,'shortDate')\n\n    // for(var k in search_obj.room_type) {\n    //   if(search_obj.room_type[k] !== false){\n    //     console.log(search_obj.room_type[k]);\n    //     if(k === 'entire' && search_obj.room_type.entire === true){\n    //       $scope.room_type[k] = 'entire'\n    //     }\n    //     if(k === 'shared' && search_obj.room_type.shared === true){\n    //       $scope.room_type[k] = 'shared'\n    //     }\n    //     if(k === 'private' && search_obj.room_type.private === true){\n    //       $scope.room_type[k] = 'private'\n    //     }\n    //   }\n    //   console.log('these are the room types',search_obj.room_type);\n    // }\n    $state.go('search.listings', {myParam:search_obj})\n  }\n\n\n\n\n\n})\n","angular.module('myApp').directive('searchFilter', () => {\n  return {\n    restrict:'E',\n    templateUrl:'./features/search-filter/search-filter.html',\n    controller:'searchFilterCtrl'\n  }\n})\n","angular.module('myApp').service('searchFilterService', function($http,$q) {\n  this.getMessage = () => {\n    return 'search filter will go here'\n  }\n})\n","angular.module('myApp').controller('searchMapCtrl', ($scope,$stateParams,searchMapService,$rootScope,$timeout) => {\n\nconsole.log($stateParams.search_id)\n$rootScope.$watch('searchListingsResults', () => {\n  console.log('====>',$rootScope.searchListingsResults);\n  var searchListingsResults = $rootScope.searchListingsResults;\n\n    // // // // //\n    //  * map *  // // // //\n    // // // // //\n    var locations = []\n    for (let i = 0; i < searchListingsResults.length; i++) {\n      console.log(searchListingsResults[i]);\n      locations.push([searchListingsResults[i].listing_name,searchListingsResults[i].latitude,searchListingsResults[i].longitude])\n      console.log(locations);\n    }\n    var initMap = (function (location,google) {\n          var map = new google.maps.Map(document.getElementById('map'), {\n            zoom: 10,\n            center: {lat:(searchListingsResults[0].latitude * 1),lng:(searchListingsResults[0].longitude * 1)},\n            disableDefaultUI:false,\n            scrollwheel:true,\n            mapTypeId:google.maps.MapTypeId.ROADMAP,\n            maxZoom:11,\n            minZoom:9,\n            zoomControlOptions: {\n              position: google.maps.ControlPosition.BOTTOM_LEFT,\n              style: google.maps.ZoomControlStyle.SMALL\n            }\n          });\n          var infowindow = new google.maps.InfoWindow();\n\n          var marker,i;\n\n          for (i = 0;i < locations.length;i++) {\n            marker = new google.maps.Marker({\n              position: new google.maps.LatLng((locations[i][1] * 1), (locations[i][2] * 1)),\n              map:map\n            });\n          }\n          google.maps.event.addListener(marker, 'click', (function(marker, i) {\n        return function() {\n          infowindow.setContent(locations[i][0]);\n          infowindow.open(map, marker);\n        }\n      })(marker, i));\n\n        }(location,google))\n\n})\n\n\n\n})\n","angular.module('myApp').directive('searchMap', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/search-map/search-map.html',\n    controller:'searchMapCtrl'\n  }\n})\n","angular.module('myApp').service('searchMapService', function($http,$q) {\n  this.getMessage = () => {\n    return 'Google map will go here'\n  }\n  this.getSearchMapLocations = (arr) => {\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/search/map_locations',\n      data: {\n        arr:arr\n      }\n    }).then(response => {\n      return response.data\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('signupCtrl', ($scope,signupService) => {\n  $scope.registerUser = (register )=> {\n    signupService.registerUser(register).then(function(response){\n      console.log('response from controller', response)\n    })\n  }\n  $scope.clickToLogin = () => {\n    ngDialog.open({ template:'./features/login/login.html', className:'ngdialog-theme-default', controller:'loginCtrl'});\n  }\n})\n","angular.module('myApp').service('signupService',function($http,$q){\n  this.registerUser = function(user) {\n    let defer = $q.defer();\n    $http({\n      method:'POST',\n      url:'/users/edit',\n      data:user\n    }).then(function(response){\n      console.log(response)\n      defer.resolve(response)\n    }).catch(function(err){\n      defer.resolve(err)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('usersProfileDescHeaderCtrl', ($scope,$stateParams,usersProfileDescHeaderService) => {\n  const user_id = $stateParams.id;\n  usersProfileDescHeaderService.getHostDesc(user_id).then(response => {\n    $scope.hostDesc = response[0];\n    console.log($scope.hostDesc);\n  })\n})\n","angular.module('myApp').directive('userProfileDescHeader', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/users-profile-desc-header/users-profile-desc-header.html',\n    controller: 'usersProfileDescHeaderCtrl'\n  }\n})\n","angular.module('myApp').service('usersProfileDescHeaderService', function($http,$q){\n  this.getHostDesc = (user_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/users/desc-header/' + user_id\n    }).then(response => {\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('usersProfileListingsCtrl', ($scope,$stateParams,userProfileListingsService) => {\n  const user_id = $stateParams.id\n  userProfileListingsService.getHostListings(user_id).then(response => {\n    $scope.listings = response;\n  })\n})\n","angular.module('myApp').directive('userProfileListings', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/users-profile-listings/users-profile-listings.html',\n    controller:'usersProfileListingsCtrl'\n  }\n})\n","angular.module('myApp').service('userProfileListingsService', function($http,$q) {\n  this.getHostListings = (room_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/users/listings/' + room_id\n    }).then(response => {\n      console.log('this is the response in service getHostListings', response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('usersProfilePicCtrl', ($scope,$stateParams,usersProfilePicService) => {\n  const user_id = $stateParams.id;\n  usersProfilePicService.getUsersProfilePic(user_id).then(response => {\n    console.log('this is response from UsersProfilePicCtrl',response);\n    $scope.usersProfilePic = response;\n    console.log($scope.usersProfilePic);\n  })\n})\n","angular.module('myApp').directive('userProfilePic', ()=> {\n  return {\n    restrict:\"AE\",\n    templateUrl:'./features/users-profile-pic/users-profile-pic.html',\n    controller:'usersProfilePicCtrl'\n  }\n})\n","angular.module('myApp').service('usersProfilePicService', function($http,$q){\n  this.getUsersProfilePic = (user_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/users/profile-pic/' + user_id\n    }).then(response => {\n      console.log(response.data);\n      defer.resolve(response.data);\n    })\n    return defer.promise\n  }\n\n})\n","angular.module('myApp').controller('endDatepickerCtrl',function($scope){\n\n})\n","angular.module('myApp').directive('endDatepicker', function() {\n  return {\n    restrict:'AE',\n    controller:'endDatepickerCtrl',\n    templateUrl:'./features/home_header/homeHeader-datepickers/end/end_datepicker.html',\n    require:'ngModel',\n    link: function(scope,elem,attr,ngModelCtrl) {\n      elem.on('click', ()=>console.log(ngModelCtrl))\n    }\n  }\n})\n","angular.module('myApp').controller('start_datepickerCtrl', function ($scope) {\n  \n})\n","angular.module('myApp').directive('startDatepicker', function(){\n  return {\n    restrict:'AE',\n    templateUrl:'./features/home_header/homeHeader-datepickers/start/start_datepicker.html',\n    controller:'start_datepickerCtrl'\n  }\n})\n","angular.module('myApp').controller('conversationsCtrl', ($scope,$stateParams,conversationsService) => {\n  $scope.message = conversationsService.getMessage()\n})\n","angular.module('myApp').service('conversationsService', function($http,$q) {\n  const message = 'This is the conversations page';\n  this.getMessage = () => {\n    return message\n  }\n})\n","angular.module('myApp').controller('homeCtrl', function($scope, homeService) {\n  $scope.newmessage = 'Welcome to the Home page'\n  var foo ='bar'\n  $scope.message = homeService.getMessage()\n\n\n})\n","angular.module('myApp').service('homeService', function ($http,$q) {\n  const message = 'Hello From the home service';\n  this.getMessage = function() {\n    return message\n  }\n\n\n})\n","angular.module('myApp').controller('roomsCtrl', ($scope,$stateParams) => {\n  $scope.message = 'welcoming to the room view';\n  console.log('log $stateParams',$stateParams);\n})\n","angular.module('myApp').controller('searchCtrl', ($scope,$stateParams) => {\n  $scope.messages = 'This is the searchh page'\n  $scope.params = $stateParams.search_id;\n  console.log($scope.params);\n})\n","angular.module('searchService', function($http,$q){\n\n})\n","angular.module('myApp').controller('searchListingsCtrl', ($scope,$stateParams,searchListingsService,$rootScope)=> {\n  $scope.params = $stateParams.search_id\n  console.log($scope.params);\n// searchlistingsService.getSearchListings function will return listing_images.image_url, rooms.listing_name, rooms.id, limit 2 for now\n//tables needed : listings, listing_images, rooms\n  searchListingsService.getSearchListings($scope.params)\n    .then(response => {\n      $rootScope.searchListingsResults = response;\n      console.log($scope.searchListingsResults);\n      \n    })\n// reference rooms-booking\n\n\n\n// ============================================================================================\n// filter function params whene envoked\n// ============================================================================================\n  $scope.otherparams = $stateParams.myParam;\n  if($scope.otherparams){\n    console.log($scope.otherparams);\n    // set default values\n    var obj = $scope.otherparams;\n    obj.searchString = $scope.params;\n    searchListingsService.filterSearchListings(obj).then(response => {\n      $scope.results = response;\n      console.log($scope.results);\n      $scope.searchListingsResults = $scope.results\n\n    })\n    //search for price in query using 'between' minPrice and maxPrice\n    // query home_type = params.hometype;\n    // accomodate, bedrooms, and bathrooms all have values hopefully\n    // create logic for inputs that are null\n    //what will we do with the start and end date ? <=== not sure it will fit in\n    // we will change the searchListingsResults when we get back the\n  }\n\n})\n","angular.module('myApp').service('searchListingsService', function($http,$q){\n  this.getSearchListings = (string) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/search' + '?search=' + string\n    })\n    .then((response) => {\n      console.log('response from getSearchListings in service',response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise;\n  }\n  this.filterSearchListings = (obj) => {\n    console.log(obj)\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/search/filter_listings',\n      data:obj\n    }).then(response => {\n      console.log('response in searchListingsService filterSearchListings',response.data);\n    defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('usersCtrl', ($scope,$stateParams,usersService) => {\n  $scope.message = usersService.getMessage() + 'and this is the $stateParams/Users.Id ' + $stateParams.id;\n  console.log('this is $state params',$stateParams.id);\n})\n","angular.module('myApp').service('usersService', function($http,$q){\n  const message = 'Hello from the Users State'\n  this.getMessage = () => {\n      return message\n  }\n})\n"]}