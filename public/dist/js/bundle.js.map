{"version":3,"sources":["app.js","accountSettings/accountSettingsCtrl.js","accountSettings/accountSettingsService.js","conversations-message-box/conversations-message-boxCtrl.js","conversations-message-box/conversations-message-boxDir.js","conversations-message-box/conversations-message-boxService.js","home-room-listings/home-room-listingsCtrl.js","home-room-listings/home-room-listingsDir.js","home-room-listings/homeRoomListingsService.js","conversations-profile-pic/conversations-profile-picCtrl.js","conversations-profile-pic/conversations-profile-picDir.js","conversations-profile-pic/conversations-profile-picService.js","home_header/homeHeaderCtrl.js","home_header/homeHeaderService.js","home_header/home_headerDir.js","login/loginCtrl.js","login/loginService.js","nav/navBarDir.js","nav/navBarService.js","navbar-dropdown/navbar-dropdownCtrl.js","navbar-dropdown/navbar-dropdownDir.js","navbar-dropdown/navbar-dropdownService.js","nav-search-input/nav-search-inputCtrl.js","nav-search-input/nav-search-inputDir.js","nav-search-input/nav-search-inputService.js","room-listing-main-desc/room-listing-main-descCtrl.js","room-listing-main-desc/room-listing-main-descDir.js","room-listing-main-desc/room-listing-main-descService.js","rooms-listing-carousel/rooms-listing-carouselCtrl.js","rooms-listing-carousel/rooms-listing-carouselDir.js","rooms-listing-carousel/rooms-listing-carouselService.js","rooms-listing-main-about/rooms-listing-main-aboutCtrl.js","rooms-listing-main-about/rooms-listing-main-aboutDir.js","rooms-listing-main-about/rooms-listing-main-aboutService.js","rooms-listing-main-booking/rooms-listing-main-bookingCtrl.js","rooms-listing-main-booking/rooms-listing-main-bookingDir.js","rooms-listing-main-booking/rooms-listing-main-bookingService.js","rooms-listing-main-pic/room-listing-main-picCtrl.js","rooms-listing-main-pic/room-listing-main-picService.js","rooms-listing-main-pic/rooms-listing-main-picDir.js","rooms-listing-main-reviews/rooms-listing-main-reviewsCtrl.js","rooms-listing-main-reviews/rooms-listing-main-reviewsDir.js","rooms-listing-main-reviews/rooms-listing-main-reviewsService.js","rooms-listing-main-star-directive/rooms-listing-main-star-directive.js","rooms-listing-map/rooms-listing-mapCtrl.js","rooms-listing-map/rooms-listing-mapDir.js","rooms-listing-map/rooms-listing-mapService.js","rooms-listing-nearby/rooms-listing-nearbyCtrl.js","rooms-listing-nearby/rooms-listing-nearbyDir.js","rooms-listing-nearby/rooms-listing-nearbyService.js","rooms-listing-profile-pic/rooms-listing-profile-picCtrl.js","rooms-listing-profile-pic/rooms-listing-profile-picDir.js","rooms-listing-profile-pic/rooms-listing-profile-picService.js","search-filter/search-filterCtrl.js","search-filter/search-filterDir.js","search-filter/search-filterService.js","search-map/search-mapCtrl.js","search-map/search-mapDir.js","search-map/search-mapService.js","signup/signupCtrl.js","signup/signupService.js","users-profile-desc-header/users-profile-desc-headerCtrl.js","users-profile-desc-header/users-profile-desc-headerDir.js","users-profile-desc-header/users-profile-desc-headerService.js","users-profile-listings/users-profile-listingsCtrl.js","users-profile-listings/users-profile-listingsDir.js","users-profile-listings/users-profile-listingsService.js","users-profile-pic/users-profile-picCtrl.js","users-profile-pic/users-profile-picDir.js","users-profile-pic/users-profile-picService.js","home_header/homeHeader-datepickers/end/end_datepickerCtrl.js","home_header/homeHeader-datepickers/end/end_datepickerDir.js","home_header/homeHeader-datepickers/start/start_datepickerCtrl.js","home_header/homeHeader-datepickers/start/start_datepickerDir.js","conversations/conversationsCtrl.js","conversations/conversationsService.js","home/homeCtrl.js","home/homeService.js","rooms/roomsCtrl.js","search/searchCtrl.js","search/searchService.js","search-listings/search-listingsCtrl.js","search-listings/search-listingsService.js","user_rooms/user_roomsCtrl.js","user_rooms/user_roomsService.js","user_rooms-listings/user_rooms-listingsCtrl.js","user_rooms-listings/user_rooms-listingsService.js","user_rooms-reservations/user_rooms-reservationsCtrl.js","user_rooms-reservations/user_rooms-reservationsService.js","user_rooms-trips/user-rooms-tripsCtrl.js","users/usersCtrl.js","users/usersService.js","users-edit-profile/users-edit-profileCtrl.js","users-edit-profile/usersEditProfileService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","params","myParam","viewParam","otherwise","$scope","loginService","accountSettingsService","$state","$rootScope","deleteAccount","console","log","getUser","then","user","id","userNotLoggedIn","closeThisDialog","go","response","redirect","service","$http","$q","defer","method","data","resolve","promise","$stateParams","$location","$localStorage","conversationsMessageBoxService","current_user_id","user_id","getConversationUsername","username","sender","messagesFromBackend","insertMessage","user_message","message_time","Date","jQuery","$","socket","io","connect","$messageForm","$messageBox","$chat","submit","e","preventDefault","emit","val","on","prepend","first_name","getConversation","forEach","obj","sender_id","message_name","directive","restrict","message_recepient","host_id","homeRoomListingsService","getListingsForHome","listings","conversationsProfilePicService","getConversationProfilePic","profilePic","homeHeaderService","findLocationByKeyword","keyword","location","$routeParams","navbarDropdownService","ngDialog","loginUser","email","password","res","clickToSignup","open","template","className","checkForToken","token","credentials","catch","err","alert","sessionStorage","setItem","navBarService","userRoomsReservationsService","itemsInCart","clickToRegister","clickToLogin","user_name","getUserBookingsById","length","$watch","newVal","oldVal","logout","currentUser","getUserById","userData","accountSettings","navSearchInputService","goToSearchState","search_id","getMessage","roomListingMainDescService","room_id","getRoomListingMainDesc","desc","roomsListingCarouselService","getCarouselImages","myInterval","slides","image_Array","i","j","push","image","image_url","type","text","image_desc","roomsListingMainAboutService","getRoomListingMainAccessories","accessories","$filter","roomsListingMainBookingService","message","getRoomListingNightlyPrice","price","reserveDate","start","end","chosenStartDate","chosenEndDate","startDate","endDate","total_price","nightly_price","userBookingsArray","all_bookings_for_User","book","buyer_id","latestBooking","listing_name","value","goToPaypal","userObj","priceObj","today","setDate","getDate","changedDate","roomListingMainPicService","getRoomListingMainPic","roomListingMainPic","$timeout","roomsListingMainReviewsService","noReviews","reviewsLength","getReviews","reviews","addReview","stars","controllerAs","scope","ratingValue","max","onRatingSelected","link","elem","attrs","updateStars","filled","toggle","index","rating","roomsListingMapService","getRoomListingCoordinates","coordinates","lat","latitude","lng","longitude","initMap","google","map","maps","Map","document","getElementById","zoom","center","disableDefaultUI","scrollwheel","mapTypeId","MapTypeId","ROADMAP","maxZoom","minZoom","zoomControlOptions","position","ControlPosition","BOTTOM_LEFT","style","ZoomControlStyle","SMALL","marker","Marker","roomsListingNearbyService","getRoomThisLocationInfo","current_location","origin1","getRoomsNearby","city","destinationA","destinationB","roomsNearby","DistanceMatrixService","my_distance","getDistanceMatrix","origins","destinations","travelMode","unitSystem","UnitSystem","IMPERIAL","status","rows","elements","distance","myArray","dist","city_name","roomsListingProfilePicService","getRoomListingProfilePic","searchFilterService","search_filter","minPrice","maxPrice","room_type","entire","private","shared","tv","kitchen","internet","heating","ac","accommodate","label","selectAcc","bedrooms","selectBed","bathrooms","selectBath","searchFilter","search_obj","acc","bed","bath","searchMapService","searchListingsResults","locations","infowindow","InfoWindow","LatLng","event","addListener","setContent","getSearchMapLocations","arr","signupService","registerUser","register","last_name","confirm_pw","usersProfileDescHeaderService","getHostDesc","hostDesc","userProfileListingsService","getHostListings","usersProfilePicService","getUsersProfilePic","usersProfilePic","require","attr","ngModelCtrl","conversationsService","homeService","newmessage","foo","messages","searchListingsService","getSearchListings","otherparams","searchString","filterSearchListings","results","string","userRoomsService","userRoomsListingsService","getListingsForView","yourlistings","userNow","userBookings","cancelBooking","booking_id","getRoomInfoByIdForReservations","getBookingsFromDBforTrips","deleteTripFromDB","res_id","bookings","usersService","usersEditProfileService","saveChanges","editObj","confirm","prompt"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('myApp',['ui.router','ui.bootstrap','ngDialog','angular-input-stars','ngRoute','ngStorage']).config(function($stateProvider,$urlRouterProvider,) {\n  $stateProvider\n  .state('home', {\n    url:'/',\n    templateUrl:'./views/home/home.html',\n    controller:'homeCtrl'\n  })\n  .state('rooms', {\n    url:'/rooms/:room_id',\n    controller: 'roomsCtrl',\n    templateUrl:'./views/rooms/rooms.html'\n  })\n  .state('users', {\n    url:'/users/:id',\n    controller:'usersCtrl',\n    templateUrl:'./views/users/users.html'\n  })\n  .state('conversations', {\n    url:'/conversations/:user_id/messages',\n    controller:'conversationsCtrl',\n    templateUrl:'./views/conversations/conversations.html'\n  })\n  .state('search', {\n    url:'/search',\n    controller:'searchCtrl',\n    templateUrl:'./views/search/search.html'\n  })\n  .state('search.listings', {\n    templateUrl:'./views/search-listings/search-listings.html',\n    url:'/listings/:search_id/',\n    controller:'searchListingsCtrl',\n    params:{myParam:null}\n  })\n  .state('user_rooms', {\n    url:'/user_rooms',\n    templateUrl:'./views/user_rooms/user_rooms.html',\n    controller:'userRoomsCtrl'\n  })\n  .state('user_rooms.user_listings', {\n    url:'/user_listings',\n    templateUrl:'./views/user_rooms-listings/user_rooms-listings.html',\n    controller:'userRoomsListingsCtrl',\n    params:{viewParam:null}\n  })\n  .state('user_rooms.user_reservations', {\n    url:'/user_reservations',\n    templateUrl:'./views/user_rooms-reservations/user_rooms-reservations.html',\n    controller:'userRoomsReservationsCtrl',\n    params:{viewParam:null}\n  })\n  .state('user_rooms.user_trips', {\n    url:'/user_trips',\n    templateUrl:'./views/user_rooms-trips/user_rooms-trips.html',\n    controller:'userRoomsTripsCtrl',\n    params:{viewParam:null}\n  })\n  .state('users_edit_profile', {\n    url:'/users/profile/edit',\n    templateUrl:'./views/users-edit-profile/users-edit-profile.html',\n    params:{viewParam:null},\n    controller:'usersEditProfileCtrl'\n  })\n  .state('error', {\n    url:'/error',\n    templateUrl:'./views/err/err.html'\n  })\n\n  $urlRouterProvider\n  .otherwise('/')\n\n\n\n});\n//  dependency of ui-bootstrap carousel from DEMO 'ngSanitize' / ,'ngAnimate'\n// Now going to check index.html for any script tags or links that may help carousel\n","angular.module('myApp').controller('accountSettingsCtrl', ($scope,loginService,accountSettingsService,$state,$rootScope)=> {\n  $scope.deleteAccount = function() {\n    console.log('DELET ACCOUNT BUTTON WORKING');\n    loginService.getUser().then(user => {\n      if(user){\n        $scope.user = user\n        console.log($scope.user);\n      }\n      else {\n        $scope.user = \"NO USER SIGNED IN \"\n      }\n      accountSettingsService.deleteAccount($scope.user.id).then(response => {\n          loginService.getUser().then(user => {\n            if(user){\n              $scope.user = user\n            }\n            else {\n              $scope.user = \"USER NOT FOUND\"\n            }\n          })\n          $rootScope.userNotLoggedIn = true\n          $scope.closeThisDialog()\n          $state.go(response.redirect)\n        })\n    })\n  }\n\n})\n","angular.module('myApp').service('accountSettingsService', function($http,$q) {\n  this.deleteAccount = (id) => {\n    console.log(id);\n    const defer = $q.defer()\n    $http({\n      method:'delete',\n      url:'/account_settings/delete/'+id\n    }).then(response => {\n      console.log(response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('conversationsMessageBoxCtrl', ($scope,$stateParams,$location,$localStorage,conversationsMessageBoxService,loginService) => {\n\n  const current_user_id = $stateParams.user_id;\n  console.log($stateParams.user_id);\n\n  conversationsMessageBoxService.getConversationUsername(current_user_id)\n  .then(response => {\n    $scope.username = response[0];\n    console.log($scope.username);\n  })\n\n  loginService.getUser().then(user => {\n    if (user){\n      $scope.sender = user;\n      console.log($scope.sender);\n    }\n    else  {\n        $scope.user = 'NOT LOGGED IN'\n    };\n    console.log($scope.messagesFromBackend);\n  })\n\n\n\n\n  $scope.insertMessage =(user_message) => {\n    console.log($scope.user_message,current_user_id);\n    let message_time = new Date();\n    conversationsMessageBoxService.insertMessage(user_message,current_user_id,message_time).then(response => console.log(response.data))\n  }\n  // ===================================================================================================================\n  // jQuery\n  // ==========================================================================================================================================\n\n  jQuery(function($) {\n    var socket = io.connect();\n    var $messageForm = $('#send-message');\n    var $messageBox = $('#message');\n    var $chat = $('#chat');\n\n    $messageForm.submit(function(e){\n      e.preventDefault();\n      socket.emit('send message', $messageBox.val());\n      $messageBox.val('')\n    })\n\n    socket.on('new message',function(data) {\n      console.log('this is the data',data);\n      $chat.prepend(\n        '<div ng-style=' + '>'\n        + '<h4>' + $scope.sender.first_name +'</h4></div><div>' + data + '</div><br>'\n      )\n    })\n    // socket.on('new message',function(data) {\n    //   console.log('this is the data',data);\n    //   $chat.append(\n    //     '<div ng-style=' + '>'\n    //     + '<h4>'  + '</h4>' + data + '</div>'\n    //   )\n    // })\n  });\n// '\"{\"width\":\"100%\",\"background\":\"white\",\"border-radius\":\"44px\",\"border-bottom\":\"1px solid black\"}\"' +\n// + $scope.sender.first_name\n// ':' +\n// + '<br/>'\n  // ==========================================================================================================================================\n  conversationsMessageBoxService.getConversation(current_user_id).then(response => {\n    console.log(response);\n    $scope.messagesFromBackend = response;\n    $scope.messagesFromBackend.forEach((obj) => {\n      console.log(obj);\n      // check reciever id\n      if(obj.sender_id === $scope.username.user_id){\n        console.log($scope.username.first_name)\n        obj.message_name = $scope.username.first_name\n      }\n      else {\n        console.log(obj)\n        obj.message_name = $scope.sender.first_name\n        console.log(obj);\n      }\n    })\n  })\n})\n","angular.module('myApp').directive('conversationMessageBox', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/conversations-message-box/conversations-message-box.html',\n    controller:'conversationsMessageBoxCtrl'\n  }\n})\n","angular.module('myApp').service('conversationsMessageBoxService', function($http,$q,$rootScope){\n  this.getConversationUsername = (user_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'conversations/username/'+ user_id\n    })\n    .then(response => {\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n\n  this.insertMessage = (user_message,message_recepient,message_time) => {\n    console.log(user_message,message_recepient,message_time);\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/conversations/insert_message',\n      data: {\n        message_recepient:(message_recepient * 1),\n        user_message:user_message,\n        message_time:message_time\n      }\n    })\n    .then(response => {\n      console.log('response'.response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n// ================================================================\n// get conversations\n// ========================================================================\n  this.getConversation = (host_id) => {\n    const defer = $q.defer()\n     $http({\n      method:'get',\n      url:'/conversations/messages/' + host_id\n    }).then(response => {\n      console.log('this is the response . data',response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n// ===========================================================================================v==========================\n// angular socket.io still trying to make work but too tired at the moment\n// ==================================================================================================================================\n  //   this.socket = ($rootScope) => {\n  //   let socket =io.connect()\n  //\n  //   return {\n  //     on:on,\n  //     emit:emit\n  //   }\n  // //Socket 'on' and 'emit' methods here\n  // this.on = (eventName,callBack) => {\n  //   socket.on(eventname, () => {\n  //     let args = arguments;\n  //     $rootScope.$apply(() => {\n  //       callback.apply(socket,args);\n  //     });\n  //   });\n  // };\n  //\n  // this.emit =(eventName,data,callback) => {\n  //   socket.emit(evenName,data,() => {\n  //     let args = arguments;\n  //     $rootScope.$apply(() => {\n  //       if(callback){\n  //         callback.apply(socket,args);\n  //       }\n  //     });\n  //   });\n  // };\n  // }\n})\n","angular.module('myApp').controller('homeRoomListingsCtrl', ($scope,homeRoomListingsService) => {\n  homeRoomListingsService.getListingsForHome().then(response=>{\n    console.log('response from homeListingCtrl',response)\n    $scope.listings = response;\n  })\n})\n","angular.module('myApp').directive('homeRoomListings',function() {\n  return {\n    restrict:'AE',\n    controller:'homeRoomListingsCtrl',\n    templateUrl:'./features/home-room-listings/home-room-listings.html'\n  }\n})\n","angular.module('myApp').service('homeRoomListingsService', function($http,$q){\n  this.getListingsForHome = () => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/rooms/listings',\n    }).then(response => {\n      console.log('response from homeRoomListingsService',response);\n      console.log('back')\n      defer.resolve(response.data);\n    })\n    console.log(12,'back')\n    return defer.promise\n\n  }\n})\n","angular.module('myApp').controller('conversationsProfilePicCtrl', ($scope,$stateParams,conversationsProfilePicService)=> {\n  const user_id = $stateParams.user_id;\n  conversationsProfilePicService.getConversationProfilePic(user_id).then(response => {\n    $scope.profilePic = response;\n  })\n})\n","angular.module('myApp').directive('conversationProfilePic', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/conversations-profile-pic/conversations-profile-pic.html',\n    controller:'conversationsProfilePicCtrl'\n  }\n})\n","angular.module('myApp').service('conversationsProfilePicService', function($http,$q) {\n  this.getConversationProfilePic = (user_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/conversations/profile-pic/'+user_id\n    }).then(response => {\n      console.log('this is the resposne.data',response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('homeHeaderCtrl', function($scope,homeHeaderService){\n  $scope.findLocationByKeyword = (keyword) => {\n    console.log('keyword from control first', keyword);\n    homeHeaderService.findLocationByKeyword(keyword).then(response => {\n      console.log(response);\n    })\n  }\n})\n","angular.module('myApp').service('homeHeaderService', function($http, $q){\n  this.findLocationByKeyword = (keyword) => {\n    const defer = $q.defer();\n    console.log('service call first',keyword.location);\n    $http({\n      method:\"get\",\n      url:'rooms/search/' + keyword.location\n    }).then((response)=> {\n      console.log(response)\n      defer.resolve(response)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').directive('homeHeader',function(){\n  return {\n    restrict:'AE',\n    templateUrl:'./features/home_header/homeHeader.html',\n    controller:'homeHeaderCtrl'\n  }\n})\n","angular.module('myApp').controller('loginCtrl', ($scope, loginService, $routeParams,$rootScope,navbarDropdownService,ngDialog) => {\n  $scope.loginUser = function(email,password) {\n    console.log('ccreds from the loginCtrl',email,password)\n    loginService.loginUser({\n      username:email,\n      password:password\n    })\n    .then(function(res) {\n      if(res.data !== \"Not Found\"){\n        $scope.closeThisDialog()\n      }\n      $scope.email = ''\n      $scope.password = ''\n      getUser();\n    })\n\n  }\n\n  $scope.clickToSignup = () => {\n    $scope.closeThisDialog()\n    ngDialog.open({ template: './features/signup/signup.html', className: 'ngdialog-theme-default', controller:'signupCtrl'});\n}\n// ================================================================================================================================\n// check if logged in\n// ================================================================================================================================================================\n  loginService.checkForToken($routeParams.token);\n\nfunction getUser() {\n  loginService.getUser().then(function(user) {\n    if (user){\n      //  $scope.user = user.username;\n       $rootScope.user = user;\n      console.log('this is user not logged in ==> ',$rootScope.userNotLoggedIn);\n      $rootScope.userNotLoggedIn = false;\n    }\n    else  {\n        $scope.user = 'NOT LOGGED IN'\n    };\n  })\n}\n\ngetUser();\n\n})\n","angular.module('myApp').service('loginService',function($http,$q,$state){\n  this.loginUser = function(credentials) {\n    return $http({\n      method: \"POST\",\n      url: '/login',\n      data: credentials\n    })\n    .then(function(res) {\n      console.log('this is the res from loginUserService',res);\n      // if( typeof res.data.redirect =='string'){\n      //   console.log('res.data.redirect',res.data.redirect);\n      //   // $state.go(res.data.redirect)\n      // }\n      return res.data;\n    })\n    .catch(function(err) {\n      alert('please log in or click to sign up ')\n      console.log('ERROR LOGGING IN!', err);\n    })\n  }\n\n  this.getUser = function() {\n    return $http({\n      method: 'GET',\n      url: '/auth/me'\n    })\n    .then(function(res) {\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n\n  this.checkForToken = function(token) {\n      if (token) {\n        console.log('checkForToken',token);\n        sessionStorage.setItem('myToken', token)\n      }\n    }\n})\n","angular.module('myApp').directive('myNav', function(){\n  return {\n    restrict:'E',\n    templateUrl:'./features/nav/navbarTmpl.html',\n    controller: function($scope,ngDialog,navBarService,$rootScope,userRoomsReservationsService) {\n      $rootScope.itemsInCart = 0;\n      $rootScope.userNotLoggedIn = true;\n\n      $scope.clickToRegister = () => {\n        ngDialog.open({ template: './features/signup/signup.html', className: 'ngdialog-theme-default', controller:'signupCtrl'});\n      }\n      $scope.clickToLogin = () => {\n        ngDialog.open({ template:'./features/login/login.html', className:'ngdialog-theme-default', controller:'loginCtrl'});\n      }\n      // $scope.logout = ()=> {\n      //   navBarService.logout();\n      //   $rootScope.userNotLoggedIn = true;\n      // }\n// ========================================================================================================================\n// get user function\n// ======================================================================================================================================================\n      function getUser() {\n        navBarService.getUser().then(function(user) {\n          if (user) {\n            console.log(user);\n            console.log('user not logged in is ===> ', $scope.userNotLoggedIn);\n            $rootScope.user_name = user.username;\n            $rootScope.userNotLoggedIn = false;\n            userRoomsReservationsService.getUserBookingsById(user.id).then(response => {\n              console.log(response);\n              $rootScope.itemsInCart = response.length;\n            })\n          }\n          else  {\n            $scope.user = 'NOT LOGGED IN';\n          }\n        })\n      }\n      getUser()\n\n      // $rootScope.$watch('userNotLoggedIn', (oldVal,newVal) => {\n      //   if(newVal){\n      //     getUser();\n      //     oldVal = newVal;\n      //   }\n      // })\n      $rootScope.$watch('itemsInCart',(newVal,oldVal) => {\n        $rootScope.itemsInCart = newVal;\n      })\n\n    }\n\n  }\n})\n","angular.module('myApp').service('navBarService', function($http,$q,$state,$rootScope) {\n  this.logout = () => {\n    console.log('fireing');\n    return $http({\n      method: 'GET',\n      url: '/logout'\n    })\n    .then(function(res) {\n      console.log(res.data);\n      $rootScope.itemsInCart = 0;\n      $state.go(res.data.redirect)\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n\n  this.getUser = function() {\n    return $http({\n      method: 'GET',\n      url: '/auth/me'\n    })\n    .then(function(res) {\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n})\n","angular.module('myApp').controller('navbarDropdownCtrl', ($scope,$stateParams,$rootScope,navbarDropdownService,loginService,navBarService,ngDialog) => {\n  function getUser() {\n    navbarDropdownService.getUser().then(function(user) {\n      if (user){\n        console.log(user);\n        $rootScope.currentUser = user;\n        console.log('This is the use that is signed in ===>',$rootScope.user);\n         $scope.user = user.username;\n         navbarDropdownService.getUserById(user.id).then(response => {\n           $rootScope.userData = response\n           console.log($scope.userData);\n         })\n      }\n      else  {\n          $scope.user = 'NOT LOGGED IN'\n      };\n    })\n  }\n  $rootScope.$watch('user', (oldVal,newVal)=> {\n    console.log('This function is firing/working');\n      getUser()\n  })\n  // $rootScope.$watch('userData',(newVal,oldVal) => {\n  //   if(newVal){\n  //     oldVal = newVal;\n  //   }\n  // })\n  getUser();\n  //   //    //\n// * logout * //\n//   //    //\n$scope.logout = ()=> {\n  navBarService.logout().then(response => {\n    console.log(response)\n    loginService.getUser().then(user => {\n      if(user){\n        $scope.user = user\n      }\n      else {\n        $scope.user = \"NO USER!\"\n      }\n    })\n  });\n  $rootScope.userNotLoggedIn = true;\n}\n$scope.accountSettings = () => {\n  console.log('working');\n  ngDialog.open({ template:'./features/accountSettings/accountSettings.html', className:'ngdialog-theme-default', controller:'accountSettingsCtrl'});\n}\n})\n","angular.module('myApp').directive('navbarDropdown', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/navbar-dropdown/navbar-dropdown.html',\n    controller:'navbarDropdownCtrl'\n  }\n})\n","angular.module('myApp').service('navbarDropdownService', function($http,$q) {\n  this.getUser = function() {\n    return $http({\n      method: 'GET',\n      url: '/auth/me'\n    })\n    .then(function(res) {\n      return res.data;\n    })\n    .catch(function(err) {\n      console.log(err);\n    })\n  }\n  this.getUserById = (user_id) => {\n    const defer = $q.defer()\n    console.log('firing from getUSERBYID in navbarDropdownService');\n    $http({\n      method:'get',\n      url:'/users/' + user_id\n    }).then(response => {\n      console.log('this is response.data from navbarDropdownService',response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n\n  // this.logout = () => {\n  //   console.log('fireing');\n  //   return $http({\n  //     method: 'GET',\n  //     url: '/logout'\n  //   })\n  //   .then(function(res) {\n  //     console.log(res.data);\n  //     return res.data;\n  //   })\n  //   .catch(function(err) {\n  //     console.log(err);\n  //   })\n  // }\n})\n","angular.module('myApp').controller('navSearchInputCtrl', ($scope,$state,$stateParams,navSearchInputService) => {\n  $scope.goToSearchState = (search_id) => {\n    console.log('search_id',search_id)\n    $state.go('search.listings',{search_id:search_id})\n  }\n})\n","angular.module('myApp').directive('navSearchInput', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/nav-search-input/nav-search-input.html',\n    controller:'navSearchInputCtrl'\n  }\n})\n","angular.module('myApp').service('navSearchInputService', function($http,$q) {\n  this.getMessage = () => {\n    return 'Hello from the nav search input service there willl be an input form here to search for nearest cities and maybe states and countries '\n  }\n})\n","angular.module('myApp').controller('roomListingMainDescCtrl', ($scope,$stateParams,roomListingMainDescService) => {\n  const room_id = $stateParams.room_id;\n\n  roomListingMainDescService.getRoomListingMainDesc(room_id)\n  .then((response) => {\n    console.log('working from controller descripition service', response)\n    $scope.desc = response[0];\n    console.log('this is descriptions',$scope.desc);\n  })\n\n\n\n})\n","angular.module('myApp').directive('roomListingMainDesc', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/room-listing-main-desc/room-listing-main-desc.html',\n    controller:'roomListingMainDescCtrl'\n  }\n})\n","angular.module('myApp').service('roomListingMainDescService', function($http,$q) {\n  this.getRoomListingMainDesc = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'GET',\n      url:'/rooms/desc/'+ room_id\n    }).then(function(response) {\n      console.log('response from service description', response);\n      defer.resolve(response.data)\n    })\n    return defer.promise;\n  }\n})\n","angular.module('myApp').controller('roomsListingCarouselCtrl', ($scope, $stateParams, roomsListingCarouselService) => {\n// ==========================================================================================\n// variables\n// ============================================================================================================\n  const room_id = $stateParams.room_id;\n\n// ============================================================================================================\n// carousel\n// ============================================================================================================\n    roomsListingCarouselService.getCarouselImages(room_id).then(response => {\n      $scope.myInterval = 3000;\n      $scope.slides = [];\n        console.log('resonse that is back from the carousel endpoint', response)\n\n        $scope.image_Array = response;\n\n        for (var i = 0, j = $scope.image_Array.length; i < j; i++) {\n            $scope.slides.push({\n                image: '../../' + $scope.image_Array[i].image_url,\n                type: 'room images',\n                text: $scope.image_Array[i].image_desc\n            })\n        }\n        console.log('thiss is the scope slides within controller', $scope.slides);\n    })\n\n\n})\n\n// // // //\n// Test\n// // // //\n\n// $scope.slides.push({\n//   image:'../../'+$scope.obj.image_url,\n//   type:'room_images',\n//   text:$scope.obj.image_desc\n// })\n\n\n// $scope.slides = [\n\n// ,\n// {\n//   image:'../../IMG/caps/teepers-cap_back_blackred-color-white.jpg',\n//   type:'caps',\n//   text:'Caps'\n// },\n// {\n//   image:'../../IMG/sweaters/naksweat-black-yellow.jpg',\n//   type:'sweaters',\n//   text:'Hoodies'\n// },\n// {\n//   image:'../../IMG/shorts/nakshorts-black-gold.jpg',\n//   type:'shorts',\n//   text:'Thai Shorts'\n// }\n// ]\n","angular.module('myApp').directive('roomListingCarousel', function() {\n  //  //  //\n  //  THIS ROOM LISTINGCAROUSEL IS MISSING AN S AT THE END OF 'ROOM'\n  //  //  //\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-carousel/rooms-listing-carousel.html',\n    controller:'roomsListingCarouselCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingCarouselService', function($http,$q) {\n  this.getCarouselImages = (room_id) => {\n    const defer = $q.defer();\n    console.log('room_id from service on way out',room_id);\n    $http({\n      method:'get',\n      url:'/rooms/carousel/' + room_id\n    }).then(response => {\n        console.log('resoinse from serviceCarouselImage',response);\n        defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('roomsListingMainAboutCtrl', ($scope,$stateParams,roomsListingMainAboutService) => {\n  const room_id = $stateParams.room_id;\n    roomsListingMainAboutService.getRoomListingMainAccessories(room_id).then(response => {\n      console.log('response from about CTrl',response);\n      $scope.accessories = response;\n      console.log('response [0]',$scope.accessories[0])\n       $scope.obj = $scope.accessories[0];\n    });\n\n\n})\n","angular.module('myApp').directive('roomListingMainAbout', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-about/rooms-listing-main-about.html',\n    controller:'roomsListingMainAboutCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingMainAboutService', function($http,$q) {\n  this.getRoomListingMainAccessories = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'GET',\n      url:'/rooms/about/' + room_id,\n    }).then(response => {\n      console.log('this is response from service on way bak',response);\n      defer.resolve(response.data)\n    })\n    return defer.promise;\n  }\n})\n","angular.module('myApp').controller('roomsListingMainBookingCtrl', ($scope, $stateParams, $rootScope, $filter, roomsListingMainBookingService, loginService) => {\n    const room_id = $stateParams.room_id;\n    $scope.submit = false;\n    $scope.message = roomsListingMainBookingService.getRoomListingNightlyPrice(room_id).then(response => {\n        console.log('this is the price', response);\n        $scope.price = response[0]\n    })\n    loginService.getUser().then(user => {\n        console.log('ths us firing');\n        if (user) {\n            $scope.user = user\n            console.log(user);\n        } else {\n            $scope.user = 'User not logged in'\n        }\n    })\n\n    $scope.reserveDate = (start, end) => {\n        if (!start || !end) {\n            alert('please pick a valid date')\n        } else {\n            $scope.chosenStartDate = $filter('date')(start, 'shortDate')\n            $scope.chosenEndDate = $filter('date')(end, 'shortDate')\n        }\n        let startDate = $filter('date')(start, 'd')\n        let endDate = $filter('date')(end, 'd')\n        console.log(startDate, endDate);\n        $scope.total_price = (endDate - startDate) * $scope.price.nightly_price\n        console.log($scope.total_price)\n        console.log($scope.total_price);\n        roomsListingMainBookingService.reserveDate(room_id, $scope.chosenStartDate, $scope.chosenEndDate, $scope.total_price).then(response => {\n            console.log('response back into the controller on the way back ====> ', response);\n            let userBookingsArray = [];\n            $scope.all_bookings_for_User = response;\n            response.forEach(book => {\n                console.log(book);\n                if (book.buyer_id === $scope.user.id) {\n                  userBookingsArray.push(book)\n                  console.log(userBookingsArray);\n                }\n\n            })\n            console.log(userBookingsArray)\n            let latestBooking = userBookingsArray[userBookingsArray.length - 1]\n            alert(`YOUR RESERVATION HAS BEEN BOOKED FOR (${$scope.price.listing_name}) for the date of (${latestBooking.start} and ${latestBooking.end})`)\n            // console.log(userBookingsArray)\n            $rootScope.itemsInCart = userBookingsArray.length;\n            alert(`You will now be directed to checkout ${$scope.user.first_name}`)\n            $scope.startDate.value = ''\n            $scope.endDate.value = ''\n            // $scope.goToPaypal($scope.user,$scope.price,$scope.total_price)\n            $scope.submit = true;\n        })\n\n    }\n    $scope.goToPaypal = (userObj, priceObj, total_price) => {\n            console.log(userObj);\n            console.log(priceObj);\n            console.log(total_price);\n            roomsListingMainBookingService.goToPaypal(userObj, priceObj, total_price)\n            // alert('this is working paypal function')\n        }\n        // =====================================================================================================================\n\n\n    $scope.today = $filter('date')(new Date(), 'yyyy-MM-dd');\n\n    $scope.$watch('startDate.value', (newVal, oldVal) => {\n            newVal.setDate(newVal.getDate())\n            $scope.changedDate = $filter('date')(newVal, 'yyyy-MM-dd')\n            console.log($scope.changedDate);\n        })\n        //dummy demo\n        //     $scope.foo = 'foo';\n        // $scope.bar = 'bar';\n    //\n    // $scope.$watchGroup(['user', 'all_bookings_for_User'], function(newValues, oldValues, scope) {\n    //     // newValues array contains the current values of the watch expressions\n    //     console.log($scope.user);\n    //     $scope.user = newValues[0];\n    //\n    //     $scope.all_bookings_for_User = newValues[1]\n    //     console.log('This is new value [1]', newValues[1]);\n    //     // with the indexes matching those of the watchExpression array\n    //     // i.e.\n    //     // newValues[0] -> $scope.foo\n    //     // and\n    //     // newValues[1] -> $scope.bar\n    // });\n\n    $rootScope.$watch('itemsInCart',(newVal,oldVal) => {\n      $scope.itemsInCart = newVal;\n    })\n\n\n})\n","angular.module('myApp').directive('roomListingMainBooking', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-booking/rooms-listing-main-booking.html',\n    controller:'roomsListingMainBookingCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingMainBookingService', function($http, $q) {\n\n    this.getRoomListingNightlyPrice = (room_id) => {\n        const defer = $q.defer()\n        $http({\n            method: 'get',\n            url: '/rooms/nightly_price/' + room_id\n        }).then(response => {\n            console.log('this is response in service Booking', response);\n            defer.resolve(response.data)\n        })\n        return defer.promise\n    }\n\n    this.reserveDate = (room_id, start, end, price) => {\n        console.log('======> start =====> service', start);\n        const defer = $q.defer();\n        $http({\n                method: 'post',\n                url: '/rooms/reservations',\n                data: {\n                    room_id: room_id,\n                    start: start,\n                    end: end,\n                    price: price\n                }\n            }).then(response => {\n                console.log('!!!response back in service', response.data);\n                defer.resolve(response.data)\n            })\n            .catch(err => {\n                alert('please log in or click to sign up ')\n                console.log('ERROR LOGGING IN!', err);\n            })\n        return defer.promise\n    }\n\n    \n    // this.goToPaypal = (userObj, priceObj, total_price) => {\n    //   console.log('GO TO PAY PAL',userObj,priceObj,total_price);\n    //  return $http({\n    //         method: 'post',\n    //         url: 'http://www.sandbox.paypal.com/cgi-bin/webscr',\n    //         headers: {\n    //           'Access-Control-Allow-Origin':'Post',\n    //           'Content-Type': 'application/x-www-form-urlencoded'\n    //         },\n    //         data: {\n    //             cmd: \"x_click\",\n    //             item_name: priceObj.listing_name,\n    //             item_number: priceObj.room_id,\n    //             business: userObj.email,\n    //             quantity: 1,\n    //             currency_code: \"USD\",\n    //             first_name: userObj.first_name,\n    //             last_name: userObj.last_name,\n    //             amount: total_price\n    //         }\n    //     })\n    // }\n\n})\n// ACCESS-control-request-method:'POST',\n// ORIGIN: null,\n// USER-AGESNT\n// 'Accept': 'application/json;odata=verbose',\n// cliend_id:\"AaTzJbBVMSmv7RFC6vDWukKGZGhgav45D9ylFD6RJCEv_90d4XsXwtAXzVGxa_vcaB7iZV82vmyDP9iU\",\n// secret:\"F_1ja7096TF7vtP4bXKQNDL0qXLbYDi_h3vVE4kjRgfVbQ7lOb69VoI1mqnlULgQT\"\n","angular.module('myApp').controller('roomsListingMainCtrl', ($scope, $stateParams,roomListingMainPicService) => {\n  $scope.message = 'Hello IM A PICTURE!';\n  console.log('$stateparams.room_id from rooms-listing main pic controller',$stateParams.room_id);\n  const room_id = $stateParams.room_id;\n  roomListingMainPicService.getRoomListingMainPic(room_id).then((response) => {\n    console.log('response that was handed back from the service here in controller',response);\n    $scope.roomListingMainPic = response\n    console.log('last one',$scope.roomListingMainPic);\n  });\n})\n","angular.module('myApp').service('roomListingMainPicService', function ($http,$q) {\n  this.getRoomListingMainPic = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'GET',\n      url:'/rooms/img/'+ room_id\n    }).then(response => {\n      console.log('response from the roomlistingsmainpicservice',response);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').directive('roomListingMainPic', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-pic/room-listing-main-pic.html',\n    controller:'roomsListingMainCtrl'\n  }\n})\n","angular.module('myApp').controller('roomsListingMainReviewsCtrl', ($scope,$state,$stateParams,$timeout,roomsListingMainReviewsService) => {\n  $scope.noReviews = true;\n  $scope.reviewsLength = 0;\n  const room_id = $stateParams.room_id;\n  // roomsListingMainReviewsService.getReviews(room_id).then(response => {\n  //   console.log('response from roomsListingMainReviewsCtrl', response);\n  //   $scope.reviews = response;\n  //   if(response.length > 0){\n  //     $scope.noReviews = false;\n  //     $scope.reviewsLength = response.length;\n  //   }\n  // })\n  $scope.getReviews = function(room_id){\n    roomsListingMainReviewsService.getReviews(room_id).then(response => {\n      console.log('response from roomsListingMainReviewsCtrl', response);\n      $scope.reviews = response;\n      if(response.length > 0){\n        $scope.noReviews = false;\n        $scope.reviewsLength = response.length;\n      }\n    })\n  }\n  $scope.getReviews(room_id)\n\n// ==============================================================================================================\n// ADD REVIEWS\n// ==============================================================================================================\n  $scope.addReview = (stars,text) => {\n    if(!stars || !text){\n      alert('cannot accept null values, please fill out the star and text input')\n    }\n    else {\n      roomsListingMainReviewsService.addReview(stars,text,room_id).then(response => {\n        console.log('this is the response from addReview',response)\n        $scope.getReviews(room_id)\n      })\n    }\n  }\n\n\n  // ==============================================================================================================\n  // timeout function to call getReviews\n  // ========================================================================================================================\n  // $timeout(function(room_id){\n  //   console.log('room_id',room_id)\n  //   $scope.getReviews(room_id)\n  // },3000)\n})\n","angular.module('myApp').directive('roomListingMainReviews', function(){\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-main-reviews/rooms-listing-main-reviews.html',\n    controller: 'roomsListingMainReviewsCtrl',\n    controllerAs: 'App'\n  }\n})\n","angular.module('myApp').service('roomsListingMainReviewsService', function($http,$q) {\n  this.getReviews = (room_id) => {\n      const defer = $q.defer();\n      $http({\n        method:'get',\n        url:'/rooms/reviews/' + room_id\n      }).then(response => {\n        console.log('response from the service GET REVIEWS ====>', response.data);\n        defer.resolve(response.data)\n      })\n      return defer.promise\n  }\n\n\n\n// ========================================================================================\n// ADD REVIEWS - I WANT TO ADD A TIME STAMP OPTION TO THIS FUNCTION\n// ========================================================================================\n  this.addReview = (stars,text,room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/rooms/reviews',\n      data: {\n        stars:stars,\n        text:text,\n        room_id:room_id\n      }\n    }).then(response => {\n      alert(response.data)\n      defer.resolve(response.data)\n    })\n    .catch(err => {\n      console.log(err);\n      alert('Forget to log in ? Sign up if you don\\'t have a login')\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').directive('starRating', function() {\n  return {\n    restrict:'A',\n    template:'<ul class=\"rating\">' +\n                 '<li ng-repeat=\"star in stars\" ng-class=\"star\" ng-click\"toggle($index)\">' +\n                 ' <i class=\"fa fa-star-o\"></i>' + '</li>' +\n                 '</ul>',\n    scope: {\n      ratingValue:'=',\n      max:'=',\n      onRatingSelected:'&'\n    },\n    link : function(scope,elem,attrs) {\n\n      scope.updateStars = () => {\n        scope.stars = [];\n        for(var i = 0; i < $scope.max; i++){\n          stars.push({\n            filled: i < scope.ratingValue\n          })\n        }\n      };\n\n      scope.toggle = function(index) {\n        scope.ratingValue = index + 1;\n        scope.onRatingSelected = ({\n          rating: index + 1\n        });\n      };\n\n      scope.$watch('ratingValue', function(oldVal,newVal){\n        if(newVal){\n          updateStars();\n        }\n      });\n    }\n  }\n})\n","angular.module('myApp').controller('roomsListingMapCtrl', ($scope,$stateParams,roomsListingMapService) => {\nconst room_id = $stateParams.room_id;\n// =====================================================================================================\n// START OF FUNCTION\n// ==============================================================================================================\nroomsListingMapService.getRoomListingCoordinates(room_id).then(response => {\n  console.log('this is the locations object',response[0]);\n  $scope.location = response[0];\n  console.log('scope locaitons',$scope.location);\n  $scope.coordinates = {lat:($scope.location.latitude * 1),lng:($scope.location.longitude * 1)}\n  console.log('here are the scope coordinates =======>',$scope.coordinates);\n\n  // // // // //\n//  * map *  // // // //\n// // // // //\n var coordinates = $scope.coordinates;\n console.log('OUTSIDE OF COORDINTATES!!!' , $scope.coordinates);\n var initMap = (function (coordinates,google) {\n       console.log('******within IIFE',coordinates);\n       var map = new google.maps.Map(document.getElementById('map'), {\n         zoom: 10,\n         center: coordinates,\n         disableDefaultUI:false,\n         scrollwheel:true,\n         mapTypeId:google.maps.MapTypeId.ROADMAP,\n         maxZoom:11,\n         minZoom:9,\n         zoomControlOptions: {\n           position: google.maps.ControlPosition.BOTTOM_LEFT,\n           style: google.maps.ZoomControlStyle.SMALL\n         }\n       });\n       var marker = new google.maps.Marker({\n         position: coordinates,\n         map: map\n       });\n     }(coordinates,google))\n// ==============================================================================================================\n})\n\n\n\n\n\n})\n","angular.module('myApp').directive('roomListingMap', () => {\n  return {\n    restrict:'AE',\n    templateUrl: './features/rooms-listing-map/rooms-listing-map.html',\n    controller: 'roomsListingMapCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingMapService', function($http,$q){\n  this.getRoomListingCoordinates = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/rooms/locations/' + room_id\n    }).then(response => {\n      console.log('======MAP SERVICE response', response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('roomsListingNearbyCtrl', ($scope,$stateParams,roomsListingNearbyService) => {\n  console.log($stateParams.room_id);\n  const room_id = $stateParams.room_id;\n  roomsListingNearbyService.getRoomThisLocationInfo(room_id).then(response => {\n    const current_location = response[0];\n    console.log('!!!!!!!!!!CURRENT_LOCATION',current_location);\n    var origin1 = {\n      lat:(current_location.latitude * 1),\n      lng:(current_location.longitude * 1)\n    };\n    roomsListingNearbyService.getRoomsNearby(room_id,current_location.city).then(response => {\n\n      console.log('RESPONSE.LENGTH',response.length);\n      if(response.length  > 0){\n\n        var destinationA = {lat:(response[0].latitude * 1),lng:(response[0].longitude * 1)};\n        var destinationB = {lat:(response[1].latitude * 1), lng:(response[1].longitude * 1)};\n      $scope.roomsNearby = response;\n      console.log(\"RESPONSE\",response[0]);\n      var service = new google.maps.DistanceMatrixService();\n\n      var my_distance = service.getDistanceMatrix({\n        origins:[origin1],\n        destinations:[destinationA,destinationB],\n        travelMode:'DRIVING',\n        // unitSystem: google.maps.UnitSystem.METRIC\n        unitSystem: google.maps.UnitSystem.IMPERIAL\n      }, function(response, status) {\n          if (status !== 'OK') {\n            alert('Error was: ' + status);\n          } else {\n            console.log(response);\n            console.log(response.rows[0].elements[0].distance.text)\n            $scope.distance = response.rows[0].elements;\n            var myArray = [];\n            $scope.distance.forEach(obj => {\n              myArray.push(obj.distance.text)\n            })\n            $scope.roomsNearby[0].dist = myArray[0]\n            $scope.roomsNearby[1].dist = myArray[1]\n            console.log($scope.roomsNearby);\n\n          }\n        })\n        // if statement closing bracket below\n      }\n    })\n  })\n\n\n})\n","angular.module('myApp').directive('roomListingNearby', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-nearby/rooms-listing-nearby.html',\n    controller:'roomsListingNearbyCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingNearbyService', function($http,$q){\n  this.getRoomThisLocationInfo = (room_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/rooms/listings/current_location/' + room_id\n    }).then(response => {\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n  this.getRoomsNearby = (room_id,city_name) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/rooms/listings/nearby/' + room_id + '/' + city_name\n    })\n    .then(response => {\n      console.log('response back from getRoomsNearyby Service function',response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('roomsListingProfilePicCtrl', ($scope,$stateParams,roomsListingProfilePicService) => {\n  const room_id = $stateParams.room_id;\n  roomsListingProfilePicService.getRoomListingProfilePic(room_id).then(response => {\n    console.log('response from profile pic ctrl on way back',response)\n    $scope.profilePic = response;\n    console.log('$scope.profiePIc',$scope.profilePic);\n  })\n})\n","angular.module('myApp').directive('roomListingProfilePic', ()=> {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/rooms-listing-profile-pic/rooms-listing-profile-pic.html',\n    controller:'roomsListingProfilePicCtrl'\n  }\n})\n","angular.module('myApp').service('roomsListingProfilePicService', function($http,$q) {\n  const message = 'This is the profile pic placeholder'\n  this.getMessage = () => {\n    return message;\n  }\n  this.getRoomListingProfilePic = (room_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/rooms/profile-pic/' + room_id\n    }).then(response => {\n      console.log('this is the response from the profile pic service',response);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('searchFilterCtrl', ($scope,$stateParams,$filter,$state,searchFilterService) => {\n  $scope.message = searchFilterService.getMessage()\n  $scope.search_filter = {\n    startDate:null,\n    endDate:null,\n    minPrice:0,\n    maxPrice:1000,\n    room_type: {\n      entire:false,\n      private:false,\n      shared:false\n    },\n    tv:false,\n    kitchen:false,\n    internet:false,\n    heating:false,\n    ac:false\n  }\n// ================================================================================================\n// accommodate select input\n// ================================================================================================\n  $scope.accommodate = [{\n    id:1,\n    label:1,\n    value:1\n  },\n  {\n    id:2,\n    label:2,\n    value:2\n  },\n  {\n    id:3,\n    label:3,\n    value:3\n  },\n  {\n    id:4,\n    label:4,\n    value:4\n  }]\n\n  $scope.selectAcc = $scope.accommodate[0]\n// ================================================================================================\n// bedrooms select input\n// ================================================================================================\n  $scope.bedrooms = [{\n    id:1,\n    label:1,\n    value:1\n  },\n  {\n    id:2,\n    label:2,\n    value:2\n  },\n  {\n    id:3,\n    label:3,\n    value:3\n  },\n  {\n    id:4,\n    label:4,\n    value:4\n  },\n  {\n    id:5,\n    label:5,\n    value:5\n  }]\n\n  $scope.selectBed = $scope.bedrooms[0]\n// ================================================================================================\n// bathrooms select input\n// ================================================================================================\n  $scope.bathrooms = [{\n    id:1,\n    label:1,\n    value:1\n  },\n  {\n    id:2,\n    label:2,\n    value:2\n  },\n  {\n    id:3,\n    label:3,\n    value:3\n  },\n  {\n    id:4,\n    label:4,\n    value:4\n  },\n  {\n    id:5,\n    label:5,\n    value:5\n  }]\n\n  $scope.selectBath = $scope.bathrooms[0]\n\n// ================================================================================================\n// search-filter-btn function need to filter through the dates in the search_obj and set logic for null/undefined values\n// ================================================================================================\n  $scope.searchFilter = (search_obj,acc,bed,bath) => {\n    if(!search_obj){\n      search_obj = {}\n    }\n    // set a label of 'select' for accommodate, bedrooms, bathrooms\n    search_obj.acc=acc.value;\n    search_obj.bed=bed.value;\n    search_obj.bath=bath.value;\n    // filter the search_obj.startDate & search_obj.endDate reference bookingCtrl\n    // search_obj.startDate = $filter('date')($scope.search_filter.startDate,'shortDate')\n    // search_obj.endDate = $filter('date')($scope.search_filter.endDate,'shortDate')\n\n    // for(var k in search_obj.room_type) {\n    //   if(search_obj.room_type[k] !== false){\n    //     console.log(search_obj.room_type[k]);\n    //     if(k === 'entire' && search_obj.room_type.entire === true){\n    //       $scope.room_type[k] = 'entire'\n    //     }\n    //     if(k === 'shared' && search_obj.room_type.shared === true){\n    //       $scope.room_type[k] = 'shared'\n    //     }\n    //     if(k === 'private' && search_obj.room_type.private === true){\n    //       $scope.room_type[k] = 'private'\n    //     }\n    //   }\n    //   console.log('these are the room types',search_obj.room_type);\n    // }\n    $state.go('search.listings', {myParam:search_obj})\n  }\n\n\n\n\n\n})\n","angular.module('myApp').directive('searchFilter', () => {\n  return {\n    restrict:'E',\n    templateUrl:'./features/search-filter/search-filter.html',\n    controller:'searchFilterCtrl'\n  }\n})\n","angular.module('myApp').service('searchFilterService', function($http,$q) {\n  this.getMessage = () => {\n    return 'search filter will go here'\n  }\n})\n","angular.module('myApp').controller('searchMapCtrl', ($scope,$stateParams,searchMapService,$rootScope,$timeout) => {\n\nconsole.log($stateParams.search_id)\n$rootScope.$watch('searchListingsResults', () => {\n  console.log('====>',$rootScope.searchListingsResults);\n  var searchListingsResults = $rootScope.searchListingsResults;\n\n    // // // // //\n    //  * map *  // // // //\n    // // // // //\n    var locations = []\n    for (let i = 0; i < searchListingsResults.length; i++) {\n      console.log(searchListingsResults[i]);\n      locations.push([searchListingsResults[i].listing_name,searchListingsResults[i].latitude,searchListingsResults[i].longitude])\n      console.log(locations);\n    }\n    var initMap = (function (location,google) {\n          var map = new google.maps.Map(document.getElementById('map'), {\n            zoom: 10,\n            center: {lat:(searchListingsResults[0].latitude * 1),lng:(searchListingsResults[0].longitude * 1)},\n            disableDefaultUI:false,\n            scrollwheel:true,\n            mapTypeId:google.maps.MapTypeId.ROADMAP,\n            maxZoom:11,\n            minZoom:9,\n            zoomControlOptions: {\n              position: google.maps.ControlPosition.BOTTOM_LEFT,\n              style: google.maps.ZoomControlStyle.SMALL\n            }\n          });\n          var infowindow = new google.maps.InfoWindow();\n\n          var marker,i;\n\n          for (i = 0;i < locations.length;i++) {\n            marker = new google.maps.Marker({\n              position: new google.maps.LatLng((locations[i][1] * 1), (locations[i][2] * 1)),\n              map:map\n            });\n          }\n          google.maps.event.addListener(marker, 'click', (function(marker, i) {\n        return function() {\n          infowindow.setContent(locations[i][0]);\n          infowindow.open(map, marker);\n        }\n      })(marker, i));\n\n        }(location,google))\n\n})\n\n\n\n})\n","angular.module('myApp').directive('searchMap', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/search-map/search-map.html',\n    controller:'searchMapCtrl'\n  }\n})\n","angular.module('myApp').service('searchMapService', function($http,$q) {\n  this.getMessage = () => {\n    return 'Google map will go here'\n  }\n  this.getSearchMapLocations = (arr) => {\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/search/map_locations',\n      data: {\n        arr:arr\n      }\n    }).then(response => {\n      return response.data\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('signupCtrl', ($scope,signupService,ngDialog) => {\n  $scope.registerUser = (register )=> {\n    if(!register || !register.first_name || !register.last_name || !register.password){\n      alert('Please Fill Out The Required Fields')\n    }\n    else if(register.password !== register.confirm_pw){\n      alert('The Passwords Do Not Match')\n    }\n    else {\n      signupService.registerUser(register).then(function(response){\n        console.log('response from controller', response)\n        alert(response)\n        $scope.closeThisDialog();\n        ngDialog.open({ template:'./features/login/login.html', className:'ngdialog-theme-default', controller:'loginCtrl'});\n      })\n    }\n\n\n    console.log('this is the register obj', register);\n  }\n  $scope.clickToLogin = () => {\n    $scope.closeThisDialog()\n    ngDialog.open({ template:'./features/login/login.html', className:'ngdialog-theme-default', controller:'loginCtrl'});\n  }\n})\n","angular.module('myApp').service('signupService',function($http,$q){\n  this.registerUser = function(user) {\n    let defer = $q.defer();\n    $http({\n      method:'POST',\n      url:'/users/edit',\n      data:user\n    }).then(function(response){\n      console.log(response)\n      defer.resolve(response.data)\n    }).catch(function(err){\n      alert(err.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('usersProfileDescHeaderCtrl', ($scope,$stateParams,usersProfileDescHeaderService) => {\n  const user_id = $stateParams.id;\n  usersProfileDescHeaderService.getHostDesc(user_id).then(response => {\n    $scope.hostDesc = response[0];\n    console.log($scope.hostDesc);\n  })\n})\n","angular.module('myApp').directive('userProfileDescHeader', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/users-profile-desc-header/users-profile-desc-header.html',\n    controller: 'usersProfileDescHeaderCtrl'\n  }\n})\n","angular.module('myApp').service('usersProfileDescHeaderService', function($http,$q){\n  this.getHostDesc = (user_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/users/desc-header/' + user_id\n    }).then(response => {\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('usersProfileListingsCtrl', ($scope,$stateParams,userProfileListingsService) => {\n  const user_id = $stateParams.id\n  userProfileListingsService.getHostListings(user_id).then(response => {\n    $scope.listings = response;\n  })\n})\n","angular.module('myApp').directive('userProfileListings', () => {\n  return {\n    restrict:'AE',\n    templateUrl:'./features/users-profile-listings/users-profile-listings.html',\n    controller:'usersProfileListingsCtrl'\n  }\n})\n","angular.module('myApp').service('userProfileListingsService', function($http,$q) {\n  this.getHostListings = (room_id) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/users/listings/' + room_id\n    }).then(response => {\n      console.log('this is the response in service getHostListings', response.data);\n      defer.resolve(response.data)\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('usersProfilePicCtrl', ($scope,$stateParams,usersProfilePicService) => {\n  const user_id = $stateParams.id;\n  usersProfilePicService.getUsersProfilePic(user_id).then(response => {\n    console.log('this is response from UsersProfilePicCtrl',response);\n    $scope.usersProfilePic = response;\n    console.log($scope.usersProfilePic);\n  })\n})\n","angular.module('myApp').directive('userProfilePic', ()=> {\n  return {\n    restrict:\"AE\",\n    templateUrl:'./features/users-profile-pic/users-profile-pic.html',\n    controller:'usersProfilePicCtrl'\n  }\n})\n","angular.module('myApp').service('usersProfilePicService', function($http,$q){\n  this.getUsersProfilePic = (user_id) => {\n    const defer = $q.defer();\n    $http({\n      method:'get',\n      url:'/users/profile-pic/' + user_id\n    }).then(response => {\n      console.log(response.data);\n      defer.resolve(response.data);\n    })\n    return defer.promise\n  }\n\n})\n","angular.module('myApp').controller('endDatepickerCtrl',function($scope){\n\n})\n","angular.module('myApp').directive('endDatepicker', function() {\n  return {\n    restrict:'AE',\n    controller:'endDatepickerCtrl',\n    templateUrl:'./features/home_header/homeHeader-datepickers/end/end_datepicker.html',\n    require:'ngModel',\n    link: function(scope,elem,attr,ngModelCtrl) {\n      elem.on('click', ()=>console.log(ngModelCtrl))\n    }\n  }\n})\n","angular.module('myApp').controller('start_datepickerCtrl', function ($scope) {\n  \n})\n","angular.module('myApp').directive('startDatepicker', function(){\n  return {\n    restrict:'AE',\n    templateUrl:'./features/home_header/homeHeader-datepickers/start/start_datepicker.html',\n    controller:'start_datepickerCtrl'\n  }\n})\n","angular.module('myApp').controller('conversationsCtrl', ($scope,$stateParams,conversationsService) => {\n  $scope.message = conversationsService.getMessage()\n})\n","angular.module('myApp').service('conversationsService', function($http,$q) {\n  const message = 'This is the conversations page';\n  this.getMessage = () => {\n    return message\n  }\n})\n","angular.module('myApp').controller('homeCtrl', function($scope, homeService) {\n  $scope.newmessage = 'Welcome to the Home page'\n  var foo ='bar'\n  $scope.message = homeService.getMessage()\n\n\n})\n","angular.module('myApp').service('homeService', function ($http,$q) {\n  const message = 'Hello From the home service';\n  this.getMessage = function() {\n    return message\n  }\n\n\n})\n","angular.module('myApp').controller('roomsCtrl', ($scope,$stateParams) => {\n  $scope.message = 'welcoming to the room view';\n  console.log('log $stateParams',$stateParams);\n})\n","angular.module('myApp').controller('searchCtrl', ($scope,$stateParams) => {\n  $scope.messages = 'This is the searchh page'\n  $scope.params = $stateParams.search_id;\n  console.log($scope.params);\n})\n","angular.module('searchService', function($http,$q){\n\n})\n","angular.module('myApp').controller('searchListingsCtrl', ($scope,$stateParams,searchListingsService,$rootScope)=> {\n  $scope.params = $stateParams.search_id\n  console.log($scope.params);\n// searchlistingsService.getSearchListings function will return listing_images.image_url, rooms.listing_name, rooms.id, limit 2 for now\n//tables needed : listings, listing_images, rooms\n  searchListingsService.getSearchListings($scope.params)\n    .then(response => {\n      $rootScope.searchListingsResults = response;\n      console.log($scope.searchListingsResults);\n      \n    })\n// reference rooms-booking\n\n\n\n// ============================================================================================\n// filter function params whene envoked\n// ============================================================================================\n  $scope.otherparams = $stateParams.myParam;\n  if($scope.otherparams){\n    console.log($scope.otherparams);\n    // set default values\n    var obj = $scope.otherparams;\n    obj.searchString = $scope.params;\n    searchListingsService.filterSearchListings(obj).then(response => {\n      $scope.results = response;\n      console.log($scope.results);\n      $scope.searchListingsResults = $scope.results\n\n    })\n    //search for price in query using 'between' minPrice and maxPrice\n    // query home_type = params.hometype;\n    // accomodate, bedrooms, and bathrooms all have values hopefully\n    // create logic for inputs that are null\n    //what will we do with the start and end date ? <=== not sure it will fit in\n    // we will change the searchListingsResults when we get back the\n  }\n\n})\n","angular.module('myApp').service('searchListingsService', function($http,$q,$state){\n  this.getSearchListings = (string) => {\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/search' + '?search=' + string\n    })\n    .then((response) => {\n      console.log('response from getSearchListings in service',response.data);\n      console.log('this is the response.data.length',response.data.length);\n      if(response.data.length < 1) {\n        console.log('This is the response length',response.data.length);\n        $state.go('error')\n      }\n      else {\n        defer.resolve(response.data)\n      }\n    })\n    return defer.promise;\n  }\n  this.filterSearchListings = (obj) => {\n    console.log(obj)\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/search/filter_listings',\n      data:obj\n    }).then(response => {\n      console.log('response in searchListingsService filterSearchListings',response.data);\n\n    defer.resolve(response.data)\n    })\n\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('userRoomsCtrl', ($scope,$stateParams,$rootScope,userRoomsService)=> {\n  \n})\n","angular.module('myApp').service('userRoomsService', function($http,$q) {\n  \n})\n","angular.module('myApp').controller('userRoomsListingsCtrl', ($scope,$stateParams,$rootScope,userRoomsListingsService,loginService)=> {\n  loginService.getUser().then(user => {\n      if (user){\n         $scope.user = user;\n         console.log(user);\n         userRoomsListingsService.getListingsForView($scope.user.id)\n         .then(response => {\n           $scope.yourlistings = response\n           console.log($scope.yourlistings);\n         })\n      }\n      else  {\n          $scope.user = 'NOT LOGGED IN'\n      };\n  })\n})\n// select * from listing_images\n// join listings on listings.id = listing_images.listing_id\n// join rooms on rooms.id = listings.room_id\n// where listings.user_id = 6\n","angular.module('myApp').service('userRoomsListingsService', function($http,$q,$state){\n  this.getListingsForView = (user_id) => {\n    console.log(user_id);\n    const defer = $q.defer()\n    $http({\n      method:'get',\n      url:'/user_rooms/user_listings' + '?user_id=' + user_id\n    })\n    .then(response => {\n      console.log(response.data);\n      defer.resolve(response.data)\n    })\n    .catch(err => {\n      state.go('err')\n    })\n    return defer.promise\n  }\n})\n","angular.module('myApp').controller('userRoomsReservationsCtrl', ($scope,$rootScope,userRoomsReservationsService,loginService) => {\n  $scope.userNow = false;\n  // get all the sessions with this user id\nloginService.getUser().then(function(user){\n  if(user){\n    $scope.user= user\n    console.log($scope.user);\n\n      userRoomsReservationsService.getUserBookingsById(user.id).then(response => {\n        $scope.userBookings = response;\n        $scope.userNow = true;\n        var myArray = []\n      //   $scope.userBookings.forEach(book => {\n      //     myArray.push(book.room_id * 1)\n      //   })\n      //   userRoomsReservationsService.getRoomInfoByIdForReservations(myArray)\n      //   // get host_name host_image location_image room_id listing name\n      })\n\n  }\n  else { $scope.user = \"could not find USER\"}\n})\n\n$scope.cancelBooking = (booking_id) => {\n  console.log(booking_id);\n  userRoomsReservationsService.cancelBooking(booking_id).then(response => {\n    console.log(response);\n    $scope.userBookings = response;\n    $rootScope.itemsInCart = $scope.userBookings.length;\n  })\n}\n// $scope.$watch('userBookings',(newVal,oldVal)=> {\n//   $scope.userBookings = newVal\n// })\n\n})\n","angular.module('myApp').service('userRoomsReservationsService', function($http,$q) {\n    this.getUserBookingsById = (id) => {\n      console.log(id);\n      const defer = $q.defer()\n      $http({\n        method:'get',\n        url:'/user_rooms/bookings/' + id\n      }).then(response => {\n        console.log(response.data);\n        if(response.data.length > 0){\n          defer.resolve(response.data)\n        }\n        else {\n          alert('You have No bookings! Use Search Bar to Find Your Desired Location!')\n        }\n      })\n      return defer.promise\n    }\n    this.getRoomInfoByIdForReservations = (arr) => {\n      const defer = $q.defer()\n      console.log(arr);\n      $http({\n        method:'get',\n        url:'/user_rooms/reservations/rooms?rooms='+arr\n      }).then(response => {\n        console.log(response.data);\n      })\n      return defer.promise;\n\n    }\n    this.cancelBooking = (booking_id) => {\n     const defer = $q.defer()\n     $http({\n       method:'delete',\n       url:'/user_rooms/cancel/' + booking_id\n     }).then(response => {\n       console.log(response.data)\n       defer.resolve(response.data)\n     })\n     return defer.promise\n    }\n    this.getBookingsFromDBforTrips = (user_id) => {\n      console.log(user_id);\n      const defer = $q.defer();\n      $http({\n        method:'get',\n        url:'/user_rooms/user_trips/' + user_id\n      }).then(response => {\n        console.log(response.data);\n        defer.resolve(response.data)\n      })\n      return defer.promise\n    }\n\n    this.deleteTripFromDB = (res_id) => {\n      console.log(res_id);\n      const defer = $q.defer()\n      $http({\n        method:'delete',\n        url:'/user_rooms/user_trips/'+res_id\n      }).then(response => {\n        console.log(response);\n        defer.resolve(response.data)\n      })\n      return defer.promise\n    }\n})\n","angular.module('myApp').controller('userRoomsTripsCtrl', ($scope,loginService,userRoomsReservationsService) => {\n  loginService.getUser().then(user => {\n    if(user){\n      console.log(user);\n      $scope.user = user\n      userRoomsReservationsService.getBookingsFromDBforTrips($scope.user.id)\n        .then(response => {\n          console.log(response);\n          $scope.bookings = response;\n        })\n    }\n    else {\n      $scope.user = 'USER NOT FOUND'\n    }\n  })\n\n  $scope.deleteTripFromDB = (res_id) => {\n    console.log(res_id);\n    userRoomsReservationsService.deleteTripFromDB(res_id).then(response => {\n      $scope.bookings = response;\n    })\n  }\n})\n","angular.module('myApp').controller('usersCtrl', ($scope,$stateParams,usersService) => {\n  $scope.message = usersService.getMessage() + 'and this is the $stateParams/Users.Id ' + $stateParams.id;\n  console.log('this is $state params',$stateParams.id);\n})\n","angular.module('myApp').service('usersService', function($http,$q){\n  const message = 'Hello from the Users State'\n  this.getMessage = () => {\n      return message\n  }\n})\n","angular.module('myApp').controller('usersEditProfileCtrl',($scope,$rootScope,$stateParams,loginService,usersEditProfileService)=> {\n  loginService.getUser()\n    .then(function(user) {\n      if (user){\n         $scope.user = user;\n         console.log(user);\n      }\n      else  {\n          $scope.user = 'NOT LOGGED IN'\n      };\n    })\n\n  // Check user object\n  $scope.saveChanges = (editObj) => {\n    console.log(editObj);\n    if (!editObj) {\n      return alert('you need to change something')\n    }\n    let confirm = prompt('are you sure you want about these changes?','yes! I am Positive! Press OK!')\n    console.log(confirm);\n    if(confirm !== null){\n      // call usersEditProfileService.saveChanges and pass editObj\n      usersEditProfileService.saveChanges(editObj).then(res => {\n\n          // $rootScope.userData = $scope.user;\n\n        alert(res)\n      })\n    }\n\n  }\n})\n","angular.module('myApp').service('usersEditProfileService', function($http,$q) {\n  this.saveChanges = (userObj) => {\n    console.log(userObj);\n    const defer = $q.defer();\n    $http({\n      method:'post',\n      url:'/users/profile/edit',\n      data:userObj\n    })\n    .then(response => {\n      console.log(response.data);\n      defer.resolve(response.data)\n    })\n    .catch(err => {\n      alert(err.data)\n    })\n    return defer.promise\n  }\n})\n"]}